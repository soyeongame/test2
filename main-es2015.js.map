{"version":3,"sources":["./src/app/model/sound.ts","./src/app/components/tile/tile.component.ts","./src/app/components/tile/tile.component.html","./src/app/components/image-set-loader/image-set-loader.component.ts","./src/app/modules/defer-load/defer-load.module.ts","./src/app/model/consts.ts","./src/app/components/settings/settings.component.ts","./src/app/components/settings/settings.component.html","./src/app/model/import.ts","./src/app/service/app.service.ts","./src/app/directives/drop-zone.directive.ts","./src/app/service/layout.service.ts","./src/app/modules/defer-load/defer-load.directive.ts","./src/environments/environment.ts","./src/app/components/help/help.component.ts","./src/app/components/help/help.component.html","./src/app/model/stone.ts","./src/app/modules/defer-load/rect.ts","./src/app/modules/defer-load/defer-load.service.ts","./src/app/model/board.ts","./src/app/model/tiles.ts","./src/app/service/svgdef.service.ts","./src/app/model/types.ts","./src/app/components/layout-preview/layout-preview.component.ts","./src/app/components/layout-preview/layout-preview.component.html","./src/app/modules/defer-load/index.ts","./src/app/model/i18n.ts","./src/app/components/game/game-component.component.ts","./src/app/components/game/game-component.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/model/clock.ts","./src/app/pipes/duration.pipe.ts","./src/app/model/layout-svg.ts","./src/app/components/tiles-info/tiles-info.component.ts","./src/app/components/tiles-info/tiles-info.component.html","./src/app/pipes/prefix.pipe.ts","./src/app/model/game.ts","./src/app/model/draw.ts","./src/environments/version.ts","./src/app/service/localstorage.service.ts","./src/app/components/board/board.component.ts","./src/app/components/board/board.component.html","./src/app/components/choose-layout/choose-layout.component.ts","./src/app/components/choose-layout/choose-layout.component.html","./src/app/model/settings.ts","./src/app/model/builder.ts","./src/main.ts","./src/app/modules/defer-load/defer-load-scroll-host.directive.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAO,MAAM,MAAM,GAAG;IACrB,IAAI,EAAE,SAAS;IACf,MAAM,EAAE,QAAQ;IAChB,KAAK,EAAE,OAAO;IACd,IAAI,EAAE,MAAM;CACZ,CAAC;AAEK,MAAM,KAAK;IAAlB;QACC,YAAO,GAAY,IAAI,CAAC;QAChB,iBAAY,GAEhB,EAAE,CAAC;IAuBR,CAAC;IArBA,IAAI,CAAC,KAAa;QACjB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YAClB,OAAO;SACP;QACD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;YAC9B,MAAM,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;YAC1B,KAAK,CAAC,GAAG,GAAG,iBAAiB,KAAK,MAAM,CAAC;YACzC,KAAK,CAAC,IAAI,EAAE,CAAC;YACb,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;SACjC;QACD,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE;aAC7B,KAAK,CAAC,CAAC,CAAC,EAAE;YACV,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,KAAa;QAClB,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE;YAC7B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;SACjC;IACF,CAAC;CACD;;;;;;;;;;;;;;;;;;;AC3BM,MAAM,aAAa;;0EAAb,aAAa;6FAAb,aAAa;QCP1B,8DAAiG;QAAjG,yEAAiG;QAChG,qEAAqF;QACrF,qEAA+E;QAC/E,oEAAqF;QACtF,4DAAM;;QAHsB,0DAAqB;QAArB,kFAAqB;QAE3C,0DAA2C;QAA3C,uHAA2C;;;;;;;;;;;;;;ACHjD;AAAA;AAAA;AAAA;AAAqF;AAC1B;;;;AAOpD,MAAM,uBAAuB;IAInC,YAAoB,UAAsB,EAAU,MAAqB;QAArD,eAAU,GAAV,UAAU,CAAY;QAAU,WAAM,GAAN,MAAM,CAAe;IACzE,CAAC;IAED,WAAW,CAAC,OAAsB;QACjC,IAAI,CAAC,WAAW,EAAE,CAAC;IACpB,CAAC;IAEO,WAAW;QAClB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YACnB,OAAO;SACP;QACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;aAC5B,IAAI,CAAC,GAAG,CAAC,EAAE;YACX,IAAI,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE,wBAAwB,CAAC;iBACxD,OAAO,CAAC,UAAU,EAAE,QAAQ,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC;YAC/C,UAAU,CAAC,GAAG,EAAE;gBACf,OAAO,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,UAAU,EAAE;oBAChD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;iBACpF;gBACD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,SAAS,GAAG,CAAC,CAAC;gBAC5C,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,UAAU,EAAE;oBAC9C,MAAM,GAAG,GAAG,IAAI,SAAS,EAAE,CAAC,eAAe,CAC1C,sFAAsF,CAAC,QAAQ,EAAE,iBAAiB,CAAC,CAAC;oBACrH,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;oBAC/F,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;iBAChD;YACF,CAAC,EAAE,CAAC,CAAC,CAAC;QACP,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,CAAC,EAAE;YACV,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC;;8FApCW,uBAAuB;uGAAvB,uBAAuB;QAFxB,8DAAU;QAAV,kEAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;ACNjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6C;AACe;AACoB;AACtB;AACJ;;AAQ/C,MAAM,eAAe;IAC3B,MAAM,CAAC,OAAO;QACb,OAAO;YACN,QAAQ,EAAE,eAAe;SACzB,CAAC;IACH,CAAC;;8EALW,eAAe;8FAAf,eAAe;mGAFhB,CAAC,oEAAgB,CAAC,YAHpB,CAAC,4DAAY,CAAC;mIAKX,eAAe,mBAJZ,wEAAkB,EAAE,8FAA4B,aADrD,4DAAY,aAEZ,wEAAkB,EAAE,8FAA4B;;;;;;;;;;;;;ACT3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,MAAM,MAAM,GAAG;IACrB,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;IACrB,SAAS,EAAE,EAAE;IACb,UAAU,EAAE,GAAG;CACf,CAAC;AAEK,MAAM,MAAM,GAAG;IACrB,IAAI,EAAE,CAAC;IACP,GAAG,EAAE,CAAC;IACN,KAAK,EAAE,CAAC;IACR,MAAM,EAAE,CAAC;CACT,CAAC;AAEK,MAAM,WAAW,GAA2D;IAClF,EAAC,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAC;IAC9B,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,OAAO,EAAC;IACjC,EAAC,GAAG,EAAE,eAAe,EAAE,IAAI,EAAE,WAAW,EAAC;IACzC,EAAC,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAC;IACnC,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,EAAC;IAC/B,EAAC,GAAG,EAAE,eAAe,EAAE,IAAI,EAAE,WAAW,EAAC;IACzC,EAAC,GAAG,EAAE,cAAc,EAAE,IAAI,EAAE,UAAU,EAAC;IACvC,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,OAAO,EAAC;IACjC,EAAC,GAAG,EAAE,eAAe,EAAE,IAAI,EAAE,WAAW,EAAC;IACzC,EAAC,GAAG,EAAE,iBAAiB,EAAE,IAAI,EAAE,aAAa,EAAC;IAC7C,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,EAAC;CAC/B,CAAC;AAEK,MAAM,SAAS,GAAG;IACxB,EAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,qDAAqD,EAAC;IACvG,EAAC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,uFAAuF,EAAC;IACnI,EAAC,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG,EAAE,0FAA0F,EAAC;IAClJ,EAAC,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG,EAAE,4EAA4E,EAAC;IACrI,EAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE,kCAAkC,EAAC;IACnF,EAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE,+EAA+E,EAAC;IAC9H,EAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,gEAAgE,EAAC;IAClH,EAAC,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE,kCAAkC,EAAC;IAClF,EAAC,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,2EAA2E,EAAC;IAClI,EAAC,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,kEAAkE,EAAC;IACtH,EAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,kEAAkE,EAAC;IACpH,EAAC,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAC;CACnD,CAAC;AAEK,MAAM,eAAe,GAAG,QAAQ,CAAC;AAEjC,MAAM,KAAK,GAAG;IACpB,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC;IACpC,CAAC,OAAO,EAAE,OAAO,EAAE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","file":"main-es2015.js","sourcesContent":["export const SOUNDS = {\n\tNOPE: 'invalid',\n\tSELECT: 'select',\n\tMATCH: 'match',\n\tOVER: 'over'\n};\n\nexport class Sound {\n\tenabled: boolean = true;\n\tprivate audioplayers: {\n\t\t[index: string]: HTMLAudioElement;\n\t} = {};\n\n\tplay(sound: string): void {\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.audioplayers[sound]) {\n\t\t\tconst audio = new Audio();\n\t\t\taudio.src = `assets/sounds/${sound}.ogg`;\n\t\t\taudio.load();\n\t\t\tthis.audioplayers[sound] = audio;\n\t\t}\n\t\tthis.audioplayers[sound].play()\n\t\t\t.catch(e => {\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t}\n\n\tpause(sound: string): void {\n\t\tif (this.audioplayers[sound]) {\n\t\t\tthis.audioplayers[sound].pause();\n\t\t}\n\t}\n}\n","import {Component, Input} from '@angular/core';\n\n@Component({\n\tselector: 'app-tile',\n\ttemplateUrl: './tile.component.html',\n\tstyleUrls: ['./tile.component.scss']\n})\nexport class TileComponent {\n\t@Input() imageSet: string;\n\t@Input() tile: string;\n}\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 75 100\" preserveAspectRatio=\"xMidYMid meet\">\n\t<defs app-image-set-loader [imageSet]=\"imageSet\" [prefix]=\"'t_'+imageSet+'_'\"></defs>\n\t<rect class=\"stone\" x=\"0\" y=\"0\" width=\"75\" height=\"100\" rx=\"10\" ry=\"10\"></rect>\n\t<use [attr.xlink:href]=\"'#t_'+imageSet+'_'+tile\" x=\"6\" y=\"6\" width=\"63\" height=\"88\"/>\n</svg>\n","import {Component, ElementRef, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {SvgdefService} from '../../service/svgdef.service';\n\n@Component({\n\t// eslint-disable-next-line @angular-eslint/component-selector\n\tselector: '[app-image-set-loader]',\n\ttemplate: '<svg:defs></svg:defs>'\n})\nexport class ImageSetLoaderComponent implements OnChanges {\n\t@Input() imageSet: string;\n\t@Input() prefix: string;\n\n\tconstructor(private elementRef: ElementRef, private svgdef: SvgdefService) {\n\t}\n\n\tngOnChanges(changes: SimpleChanges): void {\n\t\tthis.getImageSet();\n\t}\n\n\tprivate getImageSet(): void {\n\t\tif (!this.imageSet) {\n\t\t\treturn;\n\t\t}\n\t\tthis.svgdef.get(this.imageSet)\n\t\t\t.then(def => {\n\t\t\t\tlet s = def.split('<defs>')[1].split('</defs>')[0];\n\t\t\t\ts = s.replace(/xlink:href=\"\\./g, 'xlink:href=\"assets/svg')\n\t\t\t\t\t.replace(/ id=\"t_/g, ` id=\"${this.prefix}t_`);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\twhile (this.elementRef.nativeElement.firstChild) {\n\t\t\t\t\t\tthis.elementRef.nativeElement.removeChild(this.elementRef.nativeElement.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tthis.elementRef.nativeElement.innerHTML = s;\n\t\t\t\t\tif (!this.elementRef.nativeElement.firstChild) {\n\t\t\t\t\t\tconst doc = new DOMParser().parseFromString(\n\t\t\t\t\t\t\t`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">${s}</svg>`, 'application/xml');\n\t\t\t\t\t\tconst node = this.elementRef.nativeElement.ownerDocument.importNode(doc.documentElement, true);\n\t\t\t\t\t\tthis.elementRef.nativeElement.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t}\n}\n","import {CommonModule} from '@angular/common';\nimport {ModuleWithProviders, NgModule} from '@angular/core';\nimport {DeferLoadScrollHostDirective} from './defer-load-scroll-host.directive';\nimport {DeferLoadDirective} from './defer-load.directive';\nimport {DeferLoadService} from './defer-load.service';\n\n@NgModule({\n\timports: [CommonModule],\n\tdeclarations: [DeferLoadDirective, DeferLoadScrollHostDirective],\n\texports: [DeferLoadDirective, DeferLoadScrollHostDirective],\n\tproviders: [DeferLoadService]\n})\nexport class DeferLoadModule {\n\tstatic forRoot(): ModuleWithProviders<DeferLoadModule> {\n\t\treturn {\n\t\t\tngModule: DeferLoadModule\n\t\t};\n\t}\n}\n","export const Consts = {\n\tmY: 18, mX: 38, mZ: 7,\n\ttileWidth: 75,\n\ttileHeight: 100\n};\n\nexport const STATES = {\n\tidle: 0,\n\trun: 1,\n\tpause: 2,\n\tfreeze: 3\n};\n\nexport const Backgrounds: Array<{ img?: string; name: string; small?: boolean }> = [\n\t{img: undefined, name: 'None'},\n\t{img: 'Jelly.jpg', name: 'Jelly'},\n\t{img: 'Idle song.jpg', name: 'Idle song'},\n\t{img: 'LATATA.jpg', name: 'LATATA'},\n\t{img: 'HANN.jpg', name: 'HANN'},\n\t{img: 'Wow Thing.jpg', name: 'Wow Thing'},\n\t{img: 'Senorita.jpg', name: 'Senorita'},\n\t{img: 'Uh-Oh.jpg', name: 'Uh-Oh'},\n\t{img: 'Oh my god.jpg', name: 'Oh my god'},\n\t{img: 'DUMDi DUMDi.jpg', name: 'DUMDi DUMDi'},\n\t{img: 'HWAA.jpg', name: 'HWAA'}\n];\n\nexport const ImageSets = [\n\t{id: 'riichi', type: 'SVG', name: 'Riichi', url: 'https://github.com/FluffyStuff/riichi-mahjong-tiles'},\n\t{id: 'uni', type: 'SVG', name: 'Uni', url: 'https://commons.wikimedia.org/wiki/Category:Unicode_1F000-1F02F_Mahjong_Tiles_(color)'},\n\t{id: 'bzhmaddog', type: 'SVG', name: 'Bzhmaddog', url: 'https://github.com/bzhmaddog/html5-mahjong-solitaire/tree/master/res/skins/default/tiles'},\n\t{id: 'cheshire137', type: 'SVG', name: 'Cheshire', url: 'https://github.com/cheshire137/Mahjong/tree/master/app/assets/images/tiles'},\n\t{id: 'recri2', type: 'SVG', name: 'Recri', url: 'https://github.com/recri/mahjong'},\n\t{id: 'unib', type: 'SVG', name: 'Black', url: 'https://commons.wikimedia.org/wiki/Category:Unicode_1F000-1F02F_Mahjong_Tiles'},\n\t{id: 'gleitz', type: 'PNG', name: 'Gleitz', url: 'https://github.com/gleitz/mahjong/tree/master/public/img/tiles'},\n\t{id: 'recri', type: 'PNG', name: 'Recri', url: 'https://github.com/recri/mahjong'},\n\t{id: 'open-fruits', type: 'PNG', name: 'Fruits', url: 'https://github.com/xunkar/open-mahjong/tree/master/resources/tiles/fruits'},\n\t{id: 'picasso', type: 'PNG', name: 'Picasso', url: 'http://star.physics.yale.edu/~ullrich/software/SolitaireMahjong/'},\n\t{id: 'modern', type: 'PNG', name: 'Modern', url: 'http://star.physics.yale.edu/~ullrich/software/SolitaireMahjong/'},\n\t{id: 'produce101', type: 'PNG', name: 'produce101'}\n];\n\nexport const ImageSetDefault = 'riichi';\n\nexport const TILES = [\n\t['t_do1', 't_do1', 't_do1', 't_do1'],\n\t['t_do2', 't_do2', 't_do2', 't_do2'],\n\t['t_do3', 't_do3', 't_do3', 't_do3'],\n\t['t_do4', 't_do4', 't_do4', 't_do4'],\n\t['t_do5', 't_do5', 't_do5', 't_do5'],\n\t['t_do6', 't_do6', 't_do6', 't_do6'],\n\t['t_do7', 't_do7', 't_do7', 't_do7'],\n\t['t_do8', 't_do8', 't_do8', 't_do8'],\n\t['t_do9', 't_do9', 't_do9', 't_do9'],\n\t['t_ch1', 't_ch1', 't_ch1', 't_ch1'],\n\t['t_ch2', 't_ch2', 't_ch2', 't_ch2'],\n\t['t_ch3', 't_ch3', 't_ch3', 't_ch3'],\n\t['t_ch4', 't_ch4', 't_ch4', 't_ch4'],\n\t['t_ch5', 't_ch5', 't_ch5', 't_ch5'],\n\t['t_ch6', 't_ch6', 't_ch6', 't_ch6'],\n\t['t_ch7', 't_ch7', 't_ch7', 't_ch7'],\n\t['t_ch8', 't_ch8', 't_ch8', 't_ch8'],\n\t['t_ch9', 't_ch9', 't_ch9', 't_ch9'],\n\t['t_ba1', 't_ba1', 't_ba1', 't_ba1'],\n\t['t_ba2', 't_ba2', 't_ba2', 't_ba2'],\n\t['t_ba3', 't_ba3', 't_ba3', 't_ba3'],\n\t['t_ba4', 't_ba4', 't_ba4', 't_ba4'],\n\t['t_ba5', 't_ba5', 't_ba5', 't_ba5'],\n\t['t_ba6', 't_ba6', 't_ba6', 't_ba6'],\n\t['t_ba7', 't_ba7', 't_ba7', 't_ba7'],\n\t['t_ba8', 't_ba8', 't_ba8', 't_ba8'],\n\t['t_ba9', 't_ba9', 't_ba9', 't_ba9'],\n\t['t_se_spring', 't_se_summer', 't_se_fall', 't_se_winter'],\n\t['t_wi_north', 't_wi_north', 't_wi_north', 't_wi_north'],\n\t['t_wi_south', 't_wi_south', 't_wi_south', 't_wi_south'],\n\t['t_wi_east', 't_wi_east', 't_wi_east', 't_wi_east'],\n\t['t_wi_west', 't_wi_west', 't_wi_west', 't_wi_west'],\n\t['t_fl_bamboo', 't_fl_chrysanthemum', 't_fl_orchid', 't_fl_plum'],\n\t['t_dr_green', 't_dr_green', 't_dr_green', 't_dr_green'],\n\t['t_dr_white', 't_dr_white', 't_dr_white', 't_dr_white'],\n\t['t_dr_red', 't_dr_red', 't_dr_red', 't_dr_red']\n];\n\nexport const TILES_INFO = {\n\tsuits: [\n\t\t{\n\t\t\tname: '', tiles: [\n\t\t\t\t{name: '', char: '', img: 't_do1'},\n\t\t\t\t{name: '', char: '', img: 't_do2'},\n\t\t\t\t{name: '', char: '', img: 't_do3'},\n\t\t\t\t{name: '', char: '', img: 't_do4'},\n\t\t\t\t{name: '', char: '', img: 't_do5'},\n\t\t\t\t{name: '', char: '', img: 't_do6'},\n\t\t\t\t{name: '', char: '', img: 't_do7'},\n\t\t\t\t{name: '', char: '', img: 't_do8'},\n\t\t\t\t{name: '', char: '', img: 't_do9'}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tname: '', tiles: [\n\t\t\t\t{name: '', char: '', img: 't_ba1'},\n\t\t\t\t{name: '', char: '', img: 't_ba2'},\n\t\t\t\t{name: '', char: '', img: 't_ba3'},\n\t\t\t\t{name: '', char: '', img: 't_ba4'},\n\t\t\t\t{name: '', char: '', img: 't_ba5'},\n\t\t\t\t{name: '', char: '', img: 't_ba6'},\n\t\t\t\t{name: '', char: '', img: 't_ba7'},\n\t\t\t\t{name: '', char: '', img: 't_ba8'},\n\t\t\t\t{name: '', char: '', img: 't_ba9'}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tname: '', tiles: [\n\t\t\t\t{name: '', char: '', img: 't_ch1'},\n\t\t\t\t{name: '', char: '', img: 't_ch2'},\n\t\t\t\t{name: '', char: '', img: 't_ch3'},\n\t\t\t\t{name: '', char: '', img: 't_ch4'},\n\t\t\t\t{name: '', char: '', img: 't_ch5'},\n\t\t\t\t{name: '', char: '', img: 't_ch6'},\n\t\t\t\t{name: '', char: '', img: 't_ch7'},\n\t\t\t\t{name: '', char: '', img: 't_ch8'},\n\t\t\t\t{name: '', char: '', img: 't_ch9'}\n\t\t\t]\n\t\t}\n\t],\n\n\tbonus: [\n\t\t{\n\t\t\tname: '', tiles: [\n\t\t\t\t{name: '', char: '', img: 't_se_spring'},\n\t\t\t\t{name: '', char: '', img: 't_se_summer'},\n\t\t\t\t{name: '', char: '', img: 't_se_fall'},\n\t\t\t\t{name: '', char: '', img: 't_se_winter'}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tname: '', tiles: [\n\t\t\t\t{name: '', char: '', img: 't_fl_bamboo'},\n\t\t\t\t{name: '', char: '', img: 't_fl_orchid'},\n\t\t\t\t{name: '', char: '', img: 't_fl_plum'},\n\t\t\t\t{name: '', char: '', img: 't_fl_chrysanthemum'}\n\t\t\t]\n\t\t}\n\t],\n\n\thonors: [\n\t\t{\n\t\t\tname: '', tiles: [\n\t\t\t\t{name: '', char: '', img: 't_wi_east'},\n\t\t\t\t{name: '', char: '', img: 't_wi_south'},\n\t\t\t\t{name: '', char: '', img: 't_wi_west'},\n\t\t\t\t{name: '', char: '', img: 't_wi_north'}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tname: '', tiles: [\n\t\t\t\t{name: '', char: '', img: 't_dr_red'},\n\t\t\t\t{name: '', char: '', img: 't_dr_green'},\n\t\t\t\t{name: '', char: '', img: 't_dr_white'}\n\t\t\t]\n\t\t}\n\t]\n};\n","import {Component} from '@angular/core';\nimport {TranslateService} from '@ngx-translate/core';\nimport {Backgrounds, ImageSets} from '../../model/consts';\nimport {AppService} from '../../service/app.service';\nimport {LayoutService} from '../../service/layout.service';\nimport {LocalstorageService} from '../../service/localstorage.service';\n\n@Component({\n\tselector: 'app-settings',\n\ttemplateUrl: './settings.component.html',\n\tstyleUrls: ['./settings.component.scss']\n})\nexport class SettingsComponent {\n\tsets = ImageSets;\n\tbacks = Backgrounds;\n\n\tconstructor(\n\t\tpublic app: AppService,\n\t\tprivate storage: LocalstorageService,\n\t\tprivate layoutService: LayoutService,\n\t\tprivate translate: TranslateService\n\t) {\n\t}\n\n\tasync clearTimes(): Promise<void> {\n\t\tconst layouts = await this.layoutService.get();\n\t\tfor (const layout of layouts.items) {\n\t\t\tthis.storage.clearScore(layout.id);\n\t\t}\n\t}\n\n\tclearTimesClick(): void {\n\t\tif (confirm(this.translate.instant('BEST_TIMES_CLEAR_SURE'))) {\n\t\t\tthis.clearTimes().catch(e => {\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t\t}\n\t}\n\n}\n","<h1>{{'SETTINGS'|translate}}</h1>\n<div class=\"settings-content\">\n\t<div class=\"settings\">\n\t\t<p>{{'LANG'|translate}}</p>\n\t\t<div class=\"buttons\">\n\t\t\t<form>\n\t\t\t\t<ul class=\"radio\">\n\t\t\t\t\t<li><input type=\"radio\" name=\"lang\" id=\"lang0\" value=\"auto\" [(ngModel)]=\"app.settings.lang\" (ngModelChange)=\"app.setLang()\" /><label for=\"lang0\">{{'LANG_AUTO'|translate}}</label></li>\n\t\t\t\t\t<li><input type=\"radio\" name=\"lang\" id=\"lang1\" value=\"en\" [(ngModel)]=\"app.settings.lang\" (ngModelChange)=\"app.setLang()\" /><label for=\"lang1\">{{'LANG_EN'|translate}}</label></li>\n\t\t\t\t\t<li><input type=\"radio\" name=\"lang\" id=\"lang2\" value=\"kr\" [(ngModel)]=\"app.settings.lang\" (ngModelChange)=\"app.setLang()\" /><label for=\"lang2\">{{'LANG_KR'|translate}}</label></li>\n\t\t\t\t</ul>\n\t\t\t</form>\n\t\t</div>\n\t\t<p>{{'BEST_TIMES'|translate}}</p>\n\t\t<div>\n\t\t\t<button (click)=\"clearTimesClick()\">{{'BEST_TIMES_CLEAR'|translate}}</button>\n\t\t</div>\n\t</div>\n\t<div class=\"settings\">\n\t\t<p>{{'TILESET'|translate}}</p>\n\t\t<div class=\"buttons\">\n\t\t\t<form>\n\t\t\t\t<ul class=\"radio\">\n\t\t\t\t\t<li *ngFor=\"let imageset of sets; let i=index;\"><input type=\"radio\" name=\"imageset\" id=\"imageset{{i}}\" [value]=\"imageset.id\" [(ngModel)]=\"app.settings.tileset\"/><label for=\"imageset{{i}}\">{{imageset.name}}</label></li>\n\t\t\t\t</ul>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n\t<div class=\"settings\">\n\t\t<p>{{'BACKGROUND'|translate}}</p>\n\t\t<div class=\"buttons\">\n\t\t\t<form>\n\t\t\t\t<ul class=\"radio\">\n\t\t\t\t\t<li *ngFor=\"let back of backs; let i=index;\"><input type=\"radio\" name=\"back\" id=\"back{{i}}\" [value]=\"back.img\" [(ngModel)]=\"app.settings.background\"/><label for=\"back{{i}}\">{{back.name}}</label></li>\n\t\t\t\t</ul>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</div>\n","import {CompactMapping, CompactMappingX, CompactMappingY, ImportLayout, Mapping, Place} from './types';\n\nexport function sortMapping(mapping: Mapping): Mapping {\n\treturn mapping.sort((a: Place, b: Place): number => {\n\t\tif (a[0] < b[0]) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (a[0] > b[0]) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (a[1] < b[1]) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (a[1] > b[1]) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (a[2] < b[2]) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (a[2] > b[2]) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t});\n}\n\nasync function convertMatrix(\n\tmatrixCount: number, rowCount: number, cellCount: number,\n\tname: string, board: string): Promise<ImportLayout> {\n\tconst matrixLength: number = rowCount * cellCount;\n\tconst totalLength: number = matrixLength * matrixCount;\n\tif (board.length !== totalLength) {\n\t\treturn Promise.reject(Error('Invalid Matrix Pattern length'));\n\t}\n\tconst layout: ImportLayout = {name, cat: 'Import', mapping: []};\n\tfor (let z = 0; z < matrixCount; z++) {\n\t\tconst matrix = board.slice(z * matrixLength, (z + 1) * matrixLength);\n\t\tfor (let y = 0; y < rowCount; y++) {\n\t\t\tconst row = matrix.slice(y * cellCount, (y + 1) * cellCount);\n\t\t\trow.split('').forEach((cell, x) => {\n\t\t\t\tif (cell === '1') {\n\t\t\t\t\tlayout.mapping.push([z, x, y]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\treturn layout;\n}\n\nexport async function convert3400Matrix(name: string, board: string): Promise<ImportLayout> {\n\treturn convertMatrix(5, 20, 34, name, board);\n}\n\nexport async function convert2805Matrix(name: string, board: string): Promise<ImportLayout> {\n\treturn convertMatrix(5, 17, 33, name, board);\n}\n\nexport async function convertKyodai(data: string): Promise<ImportLayout> {\n\t// unify line endings\n\tconst lines = data.replace(/\\r\\n/g, '\\n').split('\\n');\n\tconst version = lines[0] || '';\n\tif (['Kyodai 3.0', 'Kyodai 6.0'].includes(version)) {\n\t\tconst nameCat = (lines[1] || '').split('::');\n\t\tconst name = nameCat[0] || '';\n\t\tconst cat = nameCat[1];\n\t\tconst board = lines[2] || '';\n\t\tconst layout = await convert3400Matrix(name, board);\n\t\tlayout.cat = cat || layout.cat;\n\t\treturn layout;\n\t}\n\treturn Promise.reject(Error(`Unknown .lay format ${  JSON.stringify((version || '').slice(0, 50))}`));\n}\n\n/*\nexport function compactMappingDeprecated(mapping: Mapping): Mapping {\n\tlet maplist: Mapping = [];\n\tmapping.forEach(o => {\n\t\tconst place: Array<number> = [];\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tplace.push(o[i]);\n\t\t}\n\t\tmaplist.push(place);\n\t});\n\tmaplist = sortMapping(maplist);\n\tconst result: Mapping = [];\n\tfor (let i = maplist.length - 1; i >= 1; i--) {\n\t\tconst item = maplist[i];\n\t\tconst before = maplist[i - 1];\n\t\tif (before && (item[0] === before[0]) && (item[2] === before[2]) && (item[1] - 2 === before[1])) {\n\t\t\tbefore[3] = (before[3] || 1) + (item[3] || 1);\n\t\t} else if ((item[3] || 1) === 1) {\n\t\t\tresult.unshift([item[0], item[1], item[2]]);\n\t\t} else {\n\t\t\tresult.unshift(item);\n\t\t}\n\t}\n\tconst first = maplist[0];\n\tresult.unshift([first[0], first[1], first[2]]);\n\treturn result;\n}\n*/\n\nexport function expandMapping(map: CompactMapping): Mapping {\n\tconst result: Mapping = [];\n\tmap.forEach(matrix => {\n\t\tconst z = matrix[0] as number;\n\t\tconst rows = matrix[1] as Array<CompactMappingY>;\n\t\trows.forEach(row => {\n\t\t\tconst y = row[0] as number;\n\t\t\tconst cells = row[1] as CompactMappingX;\n\t\t\tif (!Array.isArray(cells)) {\n\t\t\t\tresult.push([z, cells, y]);\n\t\t\t} else {\n\t\t\t\tcells.forEach(cell => {\n\t\t\t\t\tif (Array.isArray(cell)) {\n\t\t\t\t\t\tlet x = cell[0];\n\t\t\t\t\t\tconst count = cell[1];\n\t\t\t\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\t\t\t\tresult.push([z, x, y]);\n\t\t\t\t\t\t\tx += 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.push([z, cell, y]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\treturn result;\n}\n\nexport function compactMapping(mapping: Mapping): CompactMapping {\n\tconst board: any = {};\n\tsortMapping(mapping).forEach(m => {\n\t\tboard[m[0]] = board[m[0]] || {};\n\t\tboard[m[0]][m[2]] = board[m[0]][m[2]] || [];\n\t\tboard[m[0]][m[2]].push(m[1]);\n\t});\n\tconst result: CompactMapping = [];\n\tfor (const z of Object.keys(board)) {\n\t\tconst rows: Array<CompactMappingY> = [];\n\t\tfor (const y of Object.keys(board[z])) {\n\t\t\tconst a: Array<number> = board[z][y];\n\t\t\tconst entries: Array<{ start: number; current: number; count: number }> = [];\n\t\t\tlet entry = {start: -1, current: -1, count: 0};\n\t\t\ta.forEach(x => {\n\t\t\t\tif (x !== entry.current) {\n\t\t\t\t\tentry = {start: x, current: x + 2, count: 1};\n\t\t\t\t\tentries.push(entry);\n\t\t\t\t} else {\n\t\t\t\t\tentry.current += 2;\n\t\t\t\t\tentry.count++;\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst cells: CompactMappingX = entries.map(e => {\n\t\t\t\tif (e.count === 1) {\n\t\t\t\t\treturn e.start;\n\t\t\t\t}\n\t\t\t\treturn [e.start, e.count];\n\t\t\t});\n\t\t\tif (cells.length === 1 && !Array.isArray(cells[0])) {\n\t\t\t\trows.push([Number(y), cells[0]]);\n\t\t\t} else {\n\t\t\t\trows.push([Number(y), cells]);\n\t\t\t}\n\t\t}\n\t\tresult.push([Number(z), rows]);\n\t}\n\treturn result;\n}\n\nexport function cleanImportLayout(layout: ImportLayout): ImportLayout {\n\tlayout.name = layout.name.trim();\n\n\t// split author\n\tconst sl = layout.name.split(' by ');\n\tif (sl.length > 1) {\n\t\tlayout.name = sl[0].trim();\n\t\tlayout.by = sl[1].trim();\n\t}\n\n\t// Capitalize\n\tlayout.name = layout.name.split(' ').map(s => s[0].toUpperCase() + s.slice(1)).join(' ');\n\n\t// move board to left/top/min z-index\n\tlet minZ: number = layout.mapping[0][0];\n\tlet minX: number = layout.mapping[0][1];\n\tlet minY: number = layout.mapping[0][2];\n\tlayout.mapping.forEach(p => {\n\t\tminZ = Math.min(p[0], minZ);\n\t\tminX = Math.min(p[1], minX);\n\t\tminY = Math.min(p[2], minY);\n\t});\n\tlayout.mapping.forEach(p => {\n\t\tp[0] = p[0] - (minZ || 0);\n\t\tp[1] = p[1] - (minX || 0);\n\t\tp[2] = p[2] - (minY || 0);\n\t});\n\treturn layout;\n}\n\nexport function expandMappingDeprecated(mapping: Mapping): Mapping {\n\tconst result: Mapping = [];\n\tif (mapping) {\n\t\tmapping.forEach(m => {\n\t\t\tfor (let i = 0; i < (m[3] || 1); i++) {\n\t\t\t\tresult.push([m[0], m[1] + (i * 2), m[2]]);\n\t\t\t}\n\t\t});\n\t}\n\treturn result;\n}\n\nfunction hashString(s: string): number {\n\tlet hash = 0;\n\tlet i: number;\n\tlet chr: number;\n\tif (s.length === 0) {\n\t\treturn hash;\n\t}\n\tfor (i = 0; i < s.length; i++) {\n\t\tchr = s.charCodeAt(i);\n\t\t// eslint-disable-next-line no-bitwise\n\t\thash = ((hash << 5) - hash) + chr;\n\t\t// eslint-disable-next-line no-bitwise\n\t\thash |= 0; // Convert to 32bit integer\n\t}\n\treturn hash + 2147483647;\n}\n\nexport function mappingToID(mapping: Mapping): string {\n\treturn hashString(JSON.stringify(mapping)).toString();\n}\n","import {Injectable} from '@angular/core';\nimport {TranslateService} from '@ngx-translate/core';\nimport {Game} from '../model/game';\nimport {LANG_KR, LANG_EN} from '../model/i18n';\nimport {Settings} from '../model/settings';\nimport {LocalstorageService} from './localstorage.service';\n\n@Injectable()\nexport class AppService {\n\tname: string = 'Mah Jong';\n\tgame: Game;\n\tsettings: Settings;\n\n\tconstructor(private storage: LocalstorageService, private translate: TranslateService) {\n\t\tthis.game = new Game(storage);\n\t\tthis.settings = new Settings(storage);\n\t\tthis.settings.load();\n\t\tthis.setupTranslations();\n\t\tthis.setLang();\n\t\tthis.game.init();\n\t}\n\n\tsetLang(): void {\n\t\tlet userLang: string;\n\t\tif (!this.settings.lang || this.settings.lang === 'auto') {\n\t\t\tuserLang = navigator.language.split('-')[0]; // use navigator lang if available\n\t\t\tuserLang = /(kr|en)/gi.test(userLang) ? userLang : 'en';\n\t\t} else {\n\t\t\tuserLang = this.settings.lang;\n\t\t}\n\t\tif (['kr', 'en'].indexOf(userLang) >= 0) {\n\t\t\tthis.translate.use(userLang);\n\t\t}\n\t}\n\n\ttoggleSound(): void {\n\t\tthis.settings.sounds = !this.settings.sounds;\n\t\tthis.game.sound.enabled = this.settings.sounds;\n\t\tthis.settings.save();\n\t}\n\n\tprivate setupTranslations(): void {\n\t\tthis.translate.setTranslation('en', LANG_EN);\n\t\tthis.translate.setTranslation('kr', LANG_KR);\n\t\tthis.translate.setDefaultLang('en');\n\t}\n\n}\n","import {Directive, EventEmitter, HostBinding, HostListener, Input, Output} from '@angular/core';\n\n// Angular Drag and Drop File\n//\n// Add this directive to an element to turn it into a dropzone\n// for drag and drop of files.\n// Example:\n//\n// <div (appDropZone)=\"onDrop($event)\"></div>\n//\n// Any files dropped onto the region are then\n// returned as a Javascript array of file objects.\n// Which in TypeScript is `Array<File>`\n//\n// https://gist.github.com/darrenmothersele/7afda13d858a156ce571510dd78b7624\n\n@Directive({selector: '[appDropZone]'})\nexport class DropZoneDirective {\n\n\t// The directive emits a `fileDrop` event\n\t// with the list of files dropped on the element\n\t// as an JS array of `File` objects.\n\t@Output('appDropZone') readonly fileDrop = new EventEmitter<Array<File>>();\n\n\t// Disable dropping on the body of the document.\n\t// This prevents the browser from loading the dropped files\n\t// using it's default behaviour if the user misses the drop zone.\n\t// Set this input to false if you want the browser default behaviour.\n\t@Input() preventBodyDrop = true;\n\n\t// The `drop-zone-active` class is applied to the host\n\t// element when a drag is currently over the target.\n\t@HostBinding('class.drop-zone-active') active = false;\n\n\t@HostListener('drop', ['$event'])\n\tonDrop(event: DragEvent): void {\n\t\tevent.preventDefault();\n\t\tthis.active = false;\n\n\t\tconst {dataTransfer} = event;\n\n\t\tif (dataTransfer?.items) {\n\t\t\tconst files: Array<File> = [];\n\t\t\t// eslint-disable-next-line @typescript-eslint/prefer-for-of\n\t\t\tfor (let i = 0; i < dataTransfer.items.length; i++) {\n\t\t\t\t// If dropped items aren't files, reject them\n\t\t\t\tif (dataTransfer.items[i] && dataTransfer.items[i].kind === 'file') {\n\t\t\t\t\tconst file = dataTransfer.items[i].getAsFile();\n\t\t\t\t\t// eslint-disable-next-line no-null/no-null\n\t\t\t\t\tif (file !== undefined && file !== null) {\n\t\t\t\t\t\tfiles.push(file);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdataTransfer.items.clear();\n\t\t\tthis.fileDrop.emit(files);\n\t\t} else if (dataTransfer) {\n\t\t\tconst files = dataTransfer?.files;\n\t\t\tdataTransfer.clearData();\n\t\t\tif (files) {\n\t\t\t\tthis.fileDrop.emit(Array.from(files));\n\t\t\t}\n\t\t}\n\t}\n\n\t@HostListener('dragover', ['$event'])\n\tonDragOver(event: DragEvent): void {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t\tthis.active = true;\n\t}\n\n\t@HostListener('dragleave', ['$event'])\n\tonDragLeave(event: DragEvent): void {\n\t\tthis.active = false;\n\t}\n\n\t@HostListener('body:dragover', ['$event'])\n\tonBodyDragOver(event: DragEvent): void {\n\t\tif (this.preventBodyDrop) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\n\t@HostListener('body:drop', ['$event'])\n\tonBodyDrop(event: DragEvent): void {\n\t\tif (this.preventBodyDrop) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n}\n","import {HttpClient} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {cleanImportLayout, convertKyodai, expandMapping, expandMappingDeprecated, mappingToID} from '../model/import';\nimport {generateStaticLayoutSVG} from '../model/layout-svg';\nimport {Layout, Layouts, LoadLayout, Mapping} from '../model/types';\n\n@Injectable()\nexport class LayoutService {\n\tlayouts: Layouts;\n\n\tconstructor(private http: HttpClient, private sanitizer: DomSanitizer) {\n\t}\n\n\tasync get(): Promise<Layouts> {\n\t\tif (this.layouts) {\n\t\t\treturn this.layouts;\n\t\t}\n\t\tconst result: Array<LoadLayout> = await this.http.get<Array<LoadLayout>>('assets/data/boards.json').toPromise();\n\n\t\tconst items: Array<Layout> = [];\n\t\tfor (const o of result) {\n\t\t\tconst name = o.name;\n\t\t\tconst category = o.cat || 'Classic';\n\t\t\tlet mapping: Mapping = [];\n\t\t\tif (o.map) {\n\t\t\t\tmapping = expandMapping(o.map);\n\t\t\t}\n\t\t\tif (o.mapping) {\n\t\t\t\tmapping = expandMappingDeprecated(o.mapping);\n\t\t\t}\n\t\t\tif (mapping.length > 0) {\n\t\t\t\tconst layout = {id: o.id ? o.id : mappingToID(mapping), name, category, mapping, previewSVG: this.sanitizer.bypassSecurityTrustUrl(generateStaticLayoutSVG(mapping))};\n\t\t\t\titems.push(layout);\n\t\t\t}\n\t\t}\n\t\tthis.layouts = {items};\n\t\treturn this.layouts;\n\t}\n\n\tasync importFile(file: File): Promise<Layout> {\n\t\tconst s = await LayoutService.readFile(file);\n\t\tlet layout = await convertKyodai(s);\n\t\tlayout = cleanImportLayout(layout);\n\t\tconst previewSVG = this.sanitizer.bypassSecurityTrustUrl(generateStaticLayoutSVG(layout.mapping));\n\t\treturn {id: mappingToID(layout.mapping), name: layout.name, mapping: layout.mapping, category: layout.cat || 'Import', previewSVG};\n\t}\n\n\tprivate static async readFile(file: File): Promise<string> {\n\t\tconst reader = new FileReader();\n\t\treturn new Promise<string>((resolve, reject) => {\n\t\t\treader.onload = () => {\n\t\t\t\tresolve(reader.result as string);\n\t\t\t};\n\t\t\treader.onerror = () => {\n\t\t\t\treject(Error(`Reading File failed: ${reader.error}`));\n\t\t\t};\n\t\t\treader.readAsBinaryString(file);\n\t\t});\n\t}\n\n}\n","import {AfterViewInit, Directive, ElementRef, EventEmitter, Input, OnDestroy, Output} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {DeferLoadService, ScrollNotifyEvent} from './defer-load.service';\nimport {Rect} from './rect';\n\n@Directive({\n\tselector: '[appDeferLoad]'\n})\nexport class DeferLoadDirective implements AfterViewInit, OnDestroy {\n\n\t@Input() preRender: boolean = false;\n\t@Output() readonly appDeferLoad: EventEmitter<any> = new EventEmitter();\n\n\tprivate intersectionObserver?: IntersectionObserver;\n\tprivate scrollSubscription?: Subscription;\n\tprivate onbserveSubscription?: Subscription;\n\tprivate timeoutId?: number;\n\tprivate timeoutLoadMS: number = 20;\n\n\tconstructor(private elementRef: ElementRef, private deferLoadService: DeferLoadService) {\n\t}\n\n\tngAfterViewInit(): void {\n\t\tif (this.deferLoadService.isBrowser) {\n\t\t\tif (this.deferLoadService.hasIntersectionObserver) {\n\t\t\t\tthis.registerIntersectionObserver();\n\t\t\t} else {\n\t\t\t\tthis.addScrollListeners();\n\t\t\t}\n\t\t} else if (this.preRender) {\n\t\t\tthis.load();\n\t\t}\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.removeListeners();\n\t}\n\n\tprivate static getScrollPosition(): number {\n\t\t// Getting screen size and scroll position for IE\n\t\treturn (window.scrollY || window.pageYOffset)\n\t\t\t+ (document.documentElement.clientHeight || document.body.clientHeight);\n\t}\n\n\tprivate loadAndUnobserve(): void {\n\t\tthis.load();\n\t\tthis.unobserve();\n\t\tthis.removeListeners();\n\t}\n\n\tprivate cancelDelayLoad(): void {\n\t\tif (!this.timeoutId) {\n\t\t\treturn; // do nothing if timeout doesn't exist\n\t\t}\n\t\tclearTimeout(this.timeoutId);\n\t\tthis.timeoutId = undefined;\n\t}\n\n\tprivate delayLoad(): void {\n\t\tif (this.timeoutId) {\n\t\t\treturn; // timeout was already set, do nothing\n\t\t}\n\t\tthis.timeoutId = setTimeout(() => {\n\t\t\tthis.loadAndUnobserve();\n\t\t\tthis.cancelDelayLoad();\n\t\t}, this.timeoutLoadMS) as any;\n\t}\n\n\tprivate manageIntersection(entry: IntersectionObserverEntry): void {\n\t\tif (this.checkIfIntersecting(entry)) {\n\t\t\tthis.delayLoad();\n\t\t} else {\n\t\t\tthis.cancelDelayLoad();\n\t\t}\n\t}\n\n\tprivate registerIntersectionObserver(): void {\n\t\tif (!!this.intersectionObserver) {\n\t\t\treturn;\n\t\t}\n\t\tthis.intersectionObserver = this.deferLoadService.getObserver();\n\t\tif (this.intersectionObserver && this.elementRef.nativeElement) {\n\t\t\tthis.intersectionObserver.observe(this.elementRef.nativeElement as Element);\n\t\t\tthis.onbserveSubscription = this.deferLoadService.observeNotify\n\t\t\t\t.subscribe((entries: Array<IntersectionObserverEntry>) => {\n\t\t\t\t\tthis.checkForIntersection(entries);\n\t\t\t\t});\n\t\t}\n\t}\n\n\tprivate checkForIntersection(entries: Array<IntersectionObserverEntry>) {\n\t\tentries.forEach((entry: IntersectionObserverEntry) => {\n\t\t\tif (entry.target === this.elementRef.nativeElement) {\n\t\t\t\tthis.manageIntersection(entry);\n\t\t\t}\n\t\t});\n\t};\n\n\tprivate checkIfIntersecting(entry: IntersectionObserverEntry): boolean {\n\t\t// For Samsung native browser, IO has been partially implemented where by the\n\t\t// callback fires, but entry object is empty. We will check manually.\n\t\tif (entry && entry.time) {\n\t\t\treturn entry.isIntersecting;\n\t\t}\n\t\treturn this.isVisible();\n\t}\n\n\tprivate load(): void {\n\t\tthis.removeListeners();\n\t\tthis.appDeferLoad.emit();\n\t}\n\n\tprivate loadFromScroll(): void {\n\t\tsetTimeout(() => {\n\t\t\tthis.load();\n\t\t});\n\t}\n\n\tprivate addScrollListeners(): void {\n\t\tthis.scrollSubscription = this.deferLoadService.scrollNotify\n\t\t\t.subscribe((event: ScrollNotifyEvent) => {\n\t\t\t\tif (this.checkInView(event.rect)) {\n\t\t\t\t\tthis.loadFromScroll();\n\t\t\t\t}\n\t\t\t});\n\t\tsetTimeout(() => {\n\t\t\tif (this.checkInView(this.deferLoadService.currentViewport)) {\n\t\t\t\tthis.loadFromScroll();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate unobserve(): void {\n\t\tif (this.intersectionObserver && this.elementRef.nativeElement) {\n\t\t\tthis.intersectionObserver.unobserve(this.elementRef.nativeElement as Element);\n\t\t\tthis.intersectionObserver = undefined;\n\t\t}\n\t}\n\n\tprivate removeListeners(): void {\n\t\tif (this.scrollSubscription) {\n\t\t\tthis.scrollSubscription.unsubscribe();\n\t\t\tthis.scrollSubscription = undefined;\n\t\t}\n\t\tthis.unobserve();\n\t\tif (this.onbserveSubscription) {\n\t\t\tthis.onbserveSubscription.unsubscribe();\n\t\t\tthis.onbserveSubscription = undefined;\n\t\t}\n\t}\n\n\tprivate checkInView(rect: Rect): boolean {\n\t\tconst elemRect = Rect.fromElement(this.elementRef.nativeElement);\n\t\treturn elemRect.intersectsWithY(rect);\n\t}\n\n\tprivate isVisible(): boolean {\n\t\tconst scrollPosition = DeferLoadDirective.getScrollPosition();\n\t\tconst elementOffset = this.elementRef.nativeElement.offsetTop;\n\t\treturn elementOffset <= scrollPosition;\n\t}\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\nimport {version} from './version';\n\nexport const environment = {\n\tproduction: false,\n\tversion\n};\n","import {Component} from '@angular/core';\nimport {environment} from '../../../environments/environment';\nimport {AppService} from '../../service/app.service';\n\n@Component({\n\tselector: 'app-help',\n\ttemplateUrl: './help.component.html',\n\tstyleUrls: ['./help.component.scss']\n})\nexport class HelpComponent {\n\tversion = environment.version;\n\n\tconstructor(public app: AppService) {\n\t}\n}\n","<h1>{{app.name}} Solitaire v{{version}}</h1>\n<div class=\"help-content\">\n\t<div class=\"license\">\n\t\t<p>{{'LICENSE'|translate}}</p>\n\t\t<div class=\"license-list\">\n\t\t\t<div><div class=\"name\">Game</div><div class=\"info\"><a rel=\"noopener\" target=\"_blank\" href=\"https://github.com/ffalt/mah/blob/main/README.md\">MIT</a></div></div>\n\t\t\t<div><div class=\"name\">Sounds</div><div class=\"info\"><a rel=\"noopener\" href=\"https://github.com/ffalt/mah/blob/main/src/assets/sounds/README.md\">CC0/CC-BY3.0</a></div></div>\n\t\t\t<div><div class=\"name\">Fonts</div><div class=\"info\"><a rel=\"noopener\" target=\"_blank\" href=\"https://github.com/ffalt/mah/blob/main/src/fonts/README.md\">SIL</a></div></div>\n\t\t</div>\n\t</div>\n\t<div class=\"keyboard\">\n\t\t<p>{{'SHORTCUTS'|translate}}</p>\n\t\t<div class=\"keyboard-list\">\n\t\t\t<div><div class=\"name\"><span class=\"key\">T</span></div><div class=\"info\"><span>{{'HINT'|translate}}</span><span class=\"func\">{{'HINT_LONG'|translate}}</span></div></div>\n\t\t\t<div><div class=\"name\"><span class=\"key\">U</span></div><div class=\"info\"><span>{{'UNDO'|translate}}</span><span class=\"func\">{{'UNDO_LONG'|translate}}</span></div></div>\n\t\t\t<div><div class=\"name\"><span class=\"key\">N</span></div><div class=\"info\"><span>{{'RESTART'|translate}}</span><span class=\"func\">{{'RESTART_LONG'|translate}}</span></div></div>\n\t\t\t<div><div class=\"name\"><span class=\"key\">P</span></div><div class=\"info\"><span>{{'PAUSE'|translate}}</span><span class=\"func\">{{'PAUSE_LONG'|translate}}</span></div></div>\n\t\t\t<div><div class=\"name\"><span class=\"key\">I</span></div><div class=\"info\"><span>{{'INFO'|translate}}</span><span class=\"func\">{{'TILES_INFO'|translate}}</span></div></div>\n\t\t</div>\n\t</div>\n</div>\n","export class Stone {\n\tx: number;\n\ty: number;\n\tz: number;\n\tv: number;\n\thinted: boolean;\n\tselected: boolean;\n\tgroupnr: number;\n\tpicked: boolean = false;\n\tstate: {\n\t\tblocked: boolean;\n\t\tremovable: boolean;\n\t};\n\tgroup: Array<Stone> = [];\n\timg: {\n\t\tid?: string;\n\t};\n\tnodes: {\n\t\ttop: Array<Stone>;\n\t\tleft: Array<Stone>;\n\t\tright: Array<Stone>;\n\t\tbottom: Array<Stone>;\n\t};\n\n\tconstructor(z: number, x: number, y: number, v: number, groupnr: number) {\n\t\tthis.z = z;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.v = v;\n\t\tthis.groupnr = groupnr;\n\t}\n\n\tisBlocked(): boolean {\n\t\treturn Stone.hasStone(this.nodes.top) || (Stone.hasStone(this.nodes.left) && Stone.hasStone(this.nodes.right));\n\t}\n\n\tisLoose(): boolean {\n\t\treturn !Stone.hasStone(this.nodes.left) && !Stone.hasStone(this.nodes.right) && !Stone.hasStone(this.nodes.bottom);\n\t}\n\n\tprivate static hasStone(list: Array<Stone>): boolean {\n\t\tfor (const stone of list) {\n\t\t\tif (!stone.picked) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\nexport const safeGetStone = (stones: Array<Stone>, z: number, x: number, y: number): Stone | undefined => {\n\tfor (let i = 0, il = stones.length; i < il; i++) {\n\t\tif (stones[i].z === z && stones[i].x === x && stones[i].y === y) {\n\t\t\treturn stones[i];\n\t\t}\n\t}\n\treturn;\n};\n","/***\n https://github.com/tjoskar/ng-lazyload-image/blob/master/src/rect.ts\n\n The MIT License (MIT)\n\n Copyright (c) 2016 Oskar Karlsson\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\nexport class Rect {\n\tstatic empty: Rect = new Rect(0, 0, 0, 0);\n\tleft: number;\n\ttop: number;\n\tright: number;\n\tbottom: number;\n\n\tconstructor(left: number, top: number, right: number, bottom: number) {\n\t\tthis.left = left;\n\t\tthis.top = top;\n\t\tthis.right = right;\n\t\tthis.bottom = bottom;\n\t}\n\n\tstatic fromElement(element: HTMLElement): Rect {\n\t\tconst {left, top, right, bottom} = element.getBoundingClientRect();\n\t\treturn new Rect(left, top, right, bottom);\n\t}\n\n\tstatic fromWindow(_window: Window): Rect {\n\t\treturn new Rect(0, 0, _window.innerWidth, _window.innerHeight);\n\t}\n\n\tinflate(inflateBy: number): void {\n\t\tthis.left -= inflateBy;\n\t\tthis.top -= inflateBy;\n\t\tthis.right += inflateBy;\n\t\tthis.bottom += inflateBy;\n\t}\n\n\tintersectsWith(rect: Rect): boolean {\n\t\treturn (rect.left < this.right) &&\n\t\t\t(this.left < rect.right) &&\n\t\t\t(rect.top < this.bottom) &&\n\t\t\t(this.top < rect.bottom);\n\t}\n\n\tintersectsWithY(rect: Rect): boolean {\n\t\treturn (rect.top < this.bottom) &&\n\t\t\t(this.top < rect.bottom);\n\t}\n\n\tgetIntersectionWith(rect: Rect): Rect {\n\t\tconst left = Math.max(this.left, rect.left);\n\t\tconst top = Math.max(this.top, rect.top);\n\t\tconst right = Math.min(this.right, rect.right);\n\t\tconst bottom = Math.min(this.bottom, rect.bottom);\n\n\t\tif (right >= left && bottom >= top) {\n\t\t\treturn new Rect(left, top, right, bottom);\n\t\t}\n\t\treturn Rect.empty;\n\t}\n\n}\n","import {isPlatformBrowser} from '@angular/common';\nimport {EventEmitter, Inject, Injectable, PLATFORM_ID} from '@angular/core';\nimport {merge, Observable, Subject} from 'rxjs';\nimport {debounceTime, throttleTime} from 'rxjs/operators';\nimport {Rect} from './rect';\n\nexport interface ScrollEvent {\n\tname: string;\n\telement?: any;\n}\n\nexport interface ScrollNotifyEvent {\n\trect: Rect;\n}\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class DeferLoadService {\n\tscrollNotify = new EventEmitter<ScrollNotifyEvent>();\n\tobserveNotify = new EventEmitter<Array<IntersectionObserverEntry>>();\n\tcurrentViewport: Rect = new Rect(0, 0, 0, 0);\n\treadonly isBrowser: boolean;\n\treadonly hasIntersectionObserver: boolean;\n\tprivate scrollSubject = new Subject<ScrollNotifyEvent>();\n\tprivate scrollObservable: Observable<ScrollNotifyEvent>;\n\tprivate intersectionObserver?: IntersectionObserver;\n\n\t// eslint-disable-next-line @typescript-eslint/ban-types\n\tconstructor(@Inject(PLATFORM_ID) private platformId: object) {\n\t\tthis.isBrowser = isPlatformBrowser(this.platformId);\n\t\tthis.hasIntersectionObserver = DeferLoadService.checkIntersectionObserver();\n\t\tconst observable = this.scrollSubject.asObservable();\n\t\tthis.scrollObservable =\n\t\t\tmerge(\n\t\t\t\tobservable.pipe(throttleTime(300)),\n\t\t\t\tobservable.pipe(debounceTime(100))\n\t\t\t);\n\t\tthis.scrollObservable\n\t\t\t.subscribe(x => {\n\t\t\t\tthis.scrollNotify.emit(x);\n\t\t\t});\n\t\tthis.currentViewport = Rect.fromWindow(window);\n\t}\n\n\tgetObserver(): IntersectionObserver {\n\t\tif (this.intersectionObserver) {\n\t\t\treturn this.intersectionObserver;\n\t\t}\n\t\tthis.intersectionObserver = new IntersectionObserver(entries => {\n\t\t\tthis.observeNotify.next(entries);\n\t\t}, {threshold: 0});\n\t\treturn this.intersectionObserver;\n\t}\n\n\tnotifyScroll(event: ScrollEvent): void {\n\t\tif (this.hasIntersectionObserver) {\n\t\t\treturn;\n\t\t}\n\t\tconst rect = event.element ? Rect.fromElement(event.element) : Rect.fromWindow(window);\n\t\tconst height = (rect.bottom - rect.top);\n\t\trect.bottom += height;\n\t\trect.top -= height;\n\t\tthis.currentViewport = rect;\n\t\tthis.scrollSubject.next({rect});\n\t}\n\n\tprivate static checkIntersectionObserver(): boolean {\n\t\tconst hasIntersectionObserver = 'IntersectionObserver' in window;\n\t\tconst userAgent = window.navigator.userAgent;\n\t\tconst matches = userAgent.match(/Edge\\/(\\d*)\\./i);\n\t\tconst isEdge = !!matches && matches.length > 1;\n\t\tconst isEdgeVersion16OrBetter = isEdge && (!!matches && parseInt(matches[1], 10) > 15);\n\t\treturn hasIntersectionObserver && (!isEdge || isEdgeVersion16OrBetter);\n\t}\n\n}\n","import {Builder} from './builder';\nimport {safeGetStone, Stone} from './stone';\nimport {Mapping} from './types';\n\ninterface StoneGroup {\n\tgroup: number;\n\tstones: Array<Stone>;\n}\n\ninterface Hints {\n\tgroups: Array<StoneGroup>;\n\tcurrent?: StoneGroup;\n}\n\nexport class Board {\n\tbuilder: Builder = new Builder();\n\tfree: Array<Stone> = [];\n\tstones: Array<Stone> = [];\n\tcount = 0;\n\thints: Hints = {groups: [], current: undefined};\n\tselected?: Stone = undefined;\n\n\tclearSelection(): void {\n\t\tif (this.selected) {\n\t\t\tthis.selected.selected = false;\n\t\t}\n\t\tthis.selected = undefined;\n\t}\n\n\tsetStoneSelected(stone?: Stone): void {\n\t\tthis.clearSelection();\n\t\tif (stone) {\n\t\t\tstone.selected = true;\n\t\t\tthis.selected = stone;\n\t\t}\n\t}\n\n\tclearHints(): void {\n\t\tif (this.hints.current) {\n\t\t\tthis.hints.current.stones.forEach((stone: Stone) => {\n\t\t\t\tstone.hinted = false;\n\t\t\t});\n\t\t}\n\t\tthis.hints = {\n\t\t\tgroups: [],\n\t\t\tcurrent: undefined\n\t\t};\n\t}\n\n\thint(): void {\n\t\tif (this.hintNext()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.clearHints();\n\t\tif (this.free.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst groups: Array<StoneGroup> = this.collectHints();\n\t\tif (this.selected) {\n\t\t\tconst prefer = this.selected.groupnr;\n\t\t\tgroups.sort((a: StoneGroup, b: StoneGroup) => {\n\t\t\t\tif (a.group === prefer) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\tif (b.group === prefer) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t}\n\t\tconst current = groups[0];\n\t\tthis.hints = {groups, current};\n\t\tcurrent.stones.forEach((stone: Stone) => {\n\t\t\tstone.hinted = true;\n\t\t});\n\t}\n\n\treset(): void {\n\t\tthis.clearSelection();\n\t\tthis.clearHints();\n\t\tthis.free = [];\n\t\tthis.count = 0;\n\t\tthis.stones = [];\n\t}\n\n\tupdate(): void {\n\t\tconst canRemove = (stone: Stone): boolean =>\n\t\t\tstone.group.filter((_stone: Stone) =>\n\t\t\t\t!_stone.picked && !_stone.isBlocked()).length > 0;\n\n\t\tconst free: Array<Stone> = [];\n\t\tlet count = 0;\n\t\tthis.stones.forEach((stone: Stone) => {\n\t\t\tstone.state = {\n\t\t\t\tblocked: !stone.picked && stone.isBlocked(),\n\t\t\t\tremovable: false\n\t\t\t};\n\t\t\tcount += stone.picked ? 0 : 1;\n\t\t});\n\t\tthis.stones.forEach(stone => {\n\t\t\tstone.state.removable = !stone.picked && !stone.state.blocked && canRemove(stone);\n\t\t\tif (stone.state.removable) {\n\t\t\t\tfree.push(stone);\n\t\t\t}\n\t\t});\n\t\tthis.free = free;\n\t\tthis.count = count;\n\t}\n\n\tload(mapping: Mapping, undos: Array<Array<number>>): void {\n\t\tif (!mapping) {\n\t\t\treturn;\n\t\t}\n\t\tconst stones = this.builder.build('load', mapping);\n\t\tif (!stones) {\n\t\t\treturn;\n\t\t}\n\t\tundos.forEach((undo: Array<number>) => {\n\t\t\tconst stone: Stone | undefined = safeGetStone(stones, undo[0], undo[1], undo[2]);\n\t\t\tif (stone) {\n\t\t\t\tstone.picked = true;\n\t\t\t}\n\t\t});\n\t\tthis.stones = stones;\n\t}\n\n\tsave(): Array<Array<number>> {\n\t\treturn this.stones.map((stone: Stone) =>\n\t\t\t[stone.z, stone.x, stone.y, stone.v]);\n\t}\n\n\tapplyMapping(mapping: Mapping, mode: string): void {\n\t\tthis.stones = this.builder.build(mode, mapping) || [];\n\t}\n\n\tprivate hintNext(): boolean {\n\t\tif (!this.hints.current) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.hints.current.stones.forEach((stone: Stone) => {\n\t\t\tstone.hinted = false;\n\t\t});\n\t\tlet i = this.hints.groups.indexOf(this.hints.current);\n\t\tif (i >= 0) {\n\t\t\ti++;\n\t\t\tif (i >= this.hints.groups.length) {\n\t\t\t\ti = 0;\n\t\t\t}\n\t\t\tif (i < this.hints.groups.length) {\n\t\t\t\tthis.hints.current = this.hints.groups[i];\n\t\t\t\tthis.hints.current.stones.forEach(stone => {\n\t\t\t\t\tstone.hinted = true;\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate collectHints(): Array<StoneGroup> {\n\t\tconst hash: { [index: string]: Array<Stone> } = {};\n\t\tthis.free.forEach((stone: Stone) => {\n\t\t\tconst gn = stone.groupnr.toString();\n\t\t\thash[gn] = hash[gn] || [];\n\t\t\thash[gn].push(stone);\n\t\t});\n\t\treturn Object.keys(hash).map((key: string) =>\n\t\t\t({group: hash[key][0].groupnr, stones: hash[key]}));\n\t}\n}\n","import {TILES} from './consts';\n\nexport interface Tile {\n\tv: number;\n\tgroupnr: number;\n\timg: { id: string };\n}\n\nexport interface TileGroup {\n\tv: number;\n\ttiles: Array<Tile>;\n}\n\nexport class Tiles {\n\tlist: Array<Tile> = [];\n\tgroups: Array<TileGroup> = [];\n\n\tconstructor() {\n\t\tlet v = 0;\n\t\tconst tilesMapping = TILES.map(row => row.map(id => ({id})));\n\t\ttilesMapping.forEach((group, groupnr) => {\n\t\t\tconst g: TileGroup = {v: groupnr, tiles: []};\n\t\t\tthis.groups.push(g);\n\t\t\tgroup.forEach(img => {\n\t\t\t\tv++;\n\t\t\t\tconst tile = {groupnr, v, img};\n\t\t\t\tg.tiles.push(tile);\n\t\t\t\tthis.list[v] = tile;\n\t\t\t});\n\t\t});\n\t}\n}\n","import {HttpClient} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\n\ninterface CacheItem {\n\tdata?: string;\n\trequest?: Promise<string>;\n}\n\n@Injectable()\nexport class SvgdefService {\n\n\tprivate cache: { [name: string]: CacheItem } = {};\n\n\tconstructor(private http: HttpClient) {\n\t}\n\n\tasync get(name: string): Promise<string> {\n\t\tlet item = this.cache[name];\n\t\tif (item) {\n\t\t\tif (item.data) {\n\t\t\t\treturn item.data;\n\t\t\t}\n\t\t\tif (item.request) {\n\t\t\t\treturn item.request;\n\t\t\t}\n\t\t}\n\t\titem = {};\n\t\tconst request = new Promise<string>((resolve, reject) => {\n\t\t\tthis.http.get(`assets/svg/${name}.svg`, {responseType: 'text'})\n\t\t\t\t.subscribe(res => {\n\t\t\t\t\titem.data = res;\n\t\t\t\t\titem.request = undefined;\n\t\t\t\t\tresolve(res);\n\t\t\t\t}, err => {\n\t\t\t\t\treject(err);\n\t\t\t\t});\n\t\t});\n\t\titem.request = request;\n\t\tthis.cache[name] = item;\n\t\treturn request;\n\t}\n\n}\n","// [x, [x, amount (with 2 steps each) ]]\nexport interface CompactMappingX extends Array<number | Array<number>> {\n}\n\n// [y, [SuperCompactMappingX]]\nexport interface CompactMappingY extends Array<number | CompactMappingX> {\n}\n\n// [z, [SuperCompactMappingY]]\nexport interface CompactMappingZ extends Array<number | Array<CompactMappingY>> {\n}\n\n// [SuperCompactMappingZ]\nexport interface CompactMapping extends Array<CompactMappingZ> {\n}\n\n// [z, x, y]\nexport interface Place extends Array<number> {\n}\n\nexport interface Mapping extends Array<Place> {\n}\n\nexport interface Layout {\n\tid: string;\n\tname: string;\n\tcategory: string;\n\tmapping: Mapping;\n\tpreviewSVG?: any;\n}\n\nexport interface Layouts {\n\titems: Array<Layout>;\n}\n\nexport interface LayoutScoreStore {\n\tplayCount?: number;\n\tbestTime?: number;\n}\n\nexport interface LoadLayout {\n\tname: string;\n\tid?: string;\n\tcat?: string;\n\tmapping?: Mapping;\n\tmap?: CompactMapping;\n}\n\nexport interface ImportLayout {\n\tname: string;\n\tby?: string;\n\tcat: string;\n\tmapping: Mapping;\n}\n\nexport interface StorageProvider {\n\n\tgetScore(id: string): LayoutScoreStore | undefined;\n\n\tgetSettings(): SettingsStore | undefined;\n\n\tgetState(): GameStateStore | undefined;\n\n\tstoreScore(id: string, store?: LayoutScoreStore): void;\n\n\tstoreSettings(store?: SettingsStore): void;\n\n\tstoreState(store?: GameStateStore): void;\n}\n\nexport class GameStateStore {\n\telapsed?: number;\n\tstate?: number;\n\tlayout: string;\n\tundo?: Array<Array<number>>;\n\tstones?: Array<Array<number>>;\n}\n\nexport class SettingsStore {\n\tlang: string;\n\tsounds: boolean;\n\ttileset: string;\n\tbackground: string;\n}\n","import {ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges} from '@angular/core';\nimport {Layout} from '../../model/types';\n\n@Component({\n\tselector: 'app-layout-preview',\n\ttemplateUrl: './layout-preview.component.html',\n\tstyleUrls: ['./layout-preview.component.scss'],\n\tchangeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LayoutPreviewComponent implements OnChanges {\n\t@Input() layout: Layout;\n\tsvg: any;\n\n\tngOnChanges(changes: SimpleChanges): void {\n\t\tif (changes.layout) {\n\t\t\tthis.updateLayout(changes.layout.currentValue);\n\t\t}\n\t}\n\n\tprivate updateLayout(layout: Layout): void {\n\t\tthis.svg = layout.previewSVG;\n\t}\n\n}\n","<img [src]=\"svg\">\n","export * from './defer-load.service';\nexport * from './defer-load.module';\n","\nexport const LANG_EN = {\n\tRESTART: 'New Game',\n\tUNDO: 'Undo',\n\tPAUSE: 'Pause',\n\tHINT: 'Hint',\n\tSTONES: 'Stones',\n\tFREE: 'Free',\n\tFULLSCREEN: 'Fullscreen',\n\tHINT_LONG: 'Show possible moves',\n\tUNDO_LONG: 'Undo last move',\n\tRESTART_LONG: 'Start a new game',\n\tPAUSE_LONG: 'Continue/Pause game',\n\tMSG_CONTINUE_PAUSE: 'Continue Game',\n\tMSG_CONTINUE_SAVE: 'Continue Saved Game',\n\tMSG_START: 'Start Game',\n\tMSG_PLAY_AGAIN: 'Play again',\n\tMSG_BEST: 'Congratulations, new best time!',\n\tMSG_GOOD: 'Well done!',\n\tMSG_FAIL: 'No more matching tiles.',\n\tSTATS_GAMES: 'Nr. of Games',\n\tSTATS_BEST: 'Best Time',\n\tLICENSE: 'License',\n\tSHORTCUTS: 'Shortcuts',\n\tSETTINGS: 'Settings',\n\tSTATS: 'Stats',\n\tMODE: 'Board Fill Algorithm',\n\tMODE_SOLVABLE: 'Solvable',\n\tMODE_LINEAR: 'Linear',\n\tMODE_RANDOM: 'Random',\n\tAUDIO: 'Audio',\n\tAUDIO_SOUNDS: 'Sounds on/off',\n\tAUDIO_MUSIC: 'Music',\n\tLANG: 'Language',\n\tLANG_EN: 'English',\n\tLANG_KR: 'Korean',\n\tLANG_AUTO: '[Default]',\n\tOPEN_SETTINGS: 'Click here to open the settings',\n\tOPEN_HELP: 'Click here to open the help dialog',\n\tREAD_MORE_WIKIPEDIA: 'Read more on wikipedia',\n\tREAD_MORE_WIKIPEDIA_URL: 'https://en.wikipedia.org/wiki/Mahjong_tiles',\n\tTILES_INFO: 'Tiles Information',\n\tTILES: 'Tiles',\n\tMODE_SOLVABLE_DESC: 'A random fill with at least one solving possibility',\n\tMODE_RANDOM_DESC: 'A total random fill, maybe unsolvable',\n\tMODE_LINEAR_DESC: 'A backwards fill, always solvable, maybe boring to experienced players',\n\tSELECT_BOARD: 'Select Board',\n\tBOARD_GENERATOR: 'Board Generator',\n\tSTART_SELECTED: 'Start Selected',\n\tSTART_RANDOM: 'Start Random',\n\tTILESET: 'Tileset Art',\n\tBACKGROUND: 'Background',\n\tINFO: 'Info',\n\tBEST_TIMES: 'Best Times',\n\tBEST_TIMES_CLEAR: 'Clear Best Times',\n\tBEST_TIMES_CLEAR_SURE: 'Clear All Best Times?\\nThis cannot be undone.',\n\tBEST_TIME_CLEAR: 'Clear Best Time',\n\tBEST_TIME_CLEAR_SURE: 'Clear Best Time?\\nThis cannot be undone.'\n};\n\nexport const LANG_KR = {\n\tRESTART: ' ',\n\tUNDO: '',\n\tPAUSE: '',\n\tHINT: '',\n\tSTONES: '',\n\tFREE: '',\n\tFULLSCREEN: '',\n\tSETTINGS: '',\n\tSTATS: 'Stats',\n\tMODE: 'Board Fill Algorithm',\n\tMODE_SOLVABLE: 'Solvable',\n\tMODE_LINEAR: 'Linear',\n\tMODE_RANDOM: 'Random',\n\tAUDIO: '',\n\tAUDIO_SOUNDS: ' on/off',\n\tAUDIO_MUSIC: '',\n\tLANG: '',\n\tLANG_EN: '',\n\tLANG_KR: '',\n\tLANG_AUTO: '[Default]',\n\tOPEN_SETTINGS: '   ',\n\tOPEN_HELP: '    ',\n\tREAD_MORE_WIKIPEDIA: 'Read more on wikipedia',\n\tREAD_MORE_WIKIPEDIA_URL: 'https://en.wikipedia.org/wiki/Mahjong_tiles',\n\tTILES_INFO: ' ',\n\tTILES: '',\n\tMODE_SOLVABLE_DESC: '      ',\n\tMODE_RANDOM_DESC: '  ,     ',\n\tMODE_LINEAR_DESC: ' ,      ',\n\tSELECT_BOARD: ' ',\n\tBOARD_GENERATOR: ' ',\n\tSTART_SELECTED: ' ',\n\tSTART_RANDOM: ' ',\n\tTILESET: ' ',\n\tBACKGROUND: '',\n\tINFO: '',\n\tBEST_TIMES: ' ',\n\tBEST_TIMES_CLEAR: '  ',\n\tBEST_TIMES_CLEAR_SURE: '   ?',\n\tBEST_TIME_CLEAR: '  ',\n\tBEST_TIME_CLEAR_SURE: '   ?'\n};\n","import {Component, HostListener, Input} from '@angular/core';\nimport {Game} from '../../model/game';\nimport {Stone} from '../../model/stone';\nimport {Layout, Layouts} from '../../model/types';\nimport {AppService} from '../../service/app.service';\n\ninterface DocEx extends Document {\n\tfullScreen: boolean;\n\tfullscreen: boolean;\n\tmozFullScreen: boolean;\n\twebkitIsFullScreen: boolean;\n\n\tmozCancelFullScreen(): void;\n\n\twebkitExitFullscreen(): void;\n}\n\ninterface ElemEx extends HTMLElement {\n\twebkitRequestFullScreen(): void;\n\n\tmozRequestFullScreen(): void;\n}\n\n@Component({\n\tselector: 'app-game-component',\n\ttemplateUrl: './game-component.component.html',\n\tstyleUrls: ['./game-component.component.scss']\n})\nexport class GameComponent {\n\t@Input() layouts: Layouts;\n\tgame: Game;\n\ttilesInfoVisible: boolean = false;\n\thelpVisible: boolean = false;\n\tsettingsVisible: boolean = false;\n\tnewGameVisible: boolean = false;\n\n\tconstructor(public app: AppService) {\n\t\tthis.game = app.game;\n\t\tif (this.game.isIdle()) {\n\t\t\tthis.newGameVisible = true;\n\t\t}\n\t}\n\n\t@HostListener('document:keydown', ['$event'])\n\thandleKeyDownEvent(event: KeyboardEvent): void {\n\t\tif (this.helpVisible) {\n\t\t\tif (event.keyCode === 27) {\n\t\t\t\tthis.toggleHelp();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (this.newGameVisible) {\n\t\t\tif (event.keyCode === 27) {\n\t\t\t\tthis.newGameVisible = !this.newGameVisible;\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (this.tilesInfoVisible) {\n\t\t\tif (event.keyCode === 27) {\n\t\t\t\tthis.toggleTilesInfo();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (this.settingsVisible) {\n\t\t\tif (event.keyCode === 27) {\n\t\t\t\tthis.toggleSettings();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tswitch (event.which) {\n\t\t\tcase 72: // h\n\t\t\t\tthis.toggleHelp();\n\t\t\t\tbreak;\n\t\t\tcase 73: // i\n\t\t\t\tthis.toggleTilesInfo();\n\t\t\t\tbreak;\n\t\t\tcase 83: // s\n\t\t\t\tthis.toggleSettings();\n\t\t\t\tbreak;\n\t\t\tcase 84: // t\n\t\t\t\tthis.game.hint();\n\t\t\t\tbreak;\n\t\t\tcase 85: // u\n\t\t\t\tthis.game.back();\n\t\t\t\tbreak;\n\t\t\tcase 78: // n\n\t\t\t\tthis.game.pause();\n\t\t\t\tthis.newGameVisible = true;\n\t\t\t\tbreak;\n\t\t\tcase 32: // space\n\t\t\tcase 80: // p\n\t\t\t\tif (this.game.isRunning()) {\n\t\t\t\t\tthis.game.pause();\n\t\t\t\t} else if (this.game.isPaused()) {\n\t\t\t\t\tthis.game.resume();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tstoneClick(stone: Stone): void {\n\t\tthis.game.click(stone);\n\t}\n\n\tenterFullScreen(): void {\n\t\tconst doc = window.document as DocEx;\n\t\tif (doc.fullScreen || doc.fullscreen || doc.mozFullScreen || doc.webkitIsFullScreen) {\n\t\t\tif (doc.exitFullscreen) {\n\t\t\t\tdoc.exitFullscreen()\n\t\t\t\t\t.catch(e => {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t});\n\t\t\t} else if (doc.mozCancelFullScreen) {\n\t\t\t\tdoc.mozCancelFullScreen();\n\t\t\t} else if (doc.webkitExitFullscreen) {\n\t\t\t\tdoc.webkitExitFullscreen();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tconst elem = document.body as ElemEx; // this.el.nativeElement;\n\t\tif (elem.requestFullscreen) {\n\t\t\telem.requestFullscreen()\n\t\t\t\t.catch(e => {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t});\n\t\t} else if (elem.webkitRequestFullScreen) {\n\t\t\telem.webkitRequestFullScreen();\n\t\t} else if (elem.mozRequestFullScreen) {\n\t\t\telem.mozRequestFullScreen();\n\t\t}\n\t}\n\n\tnewGame(): void {\n\t\tthis.game.pause();\n\t\tthis.newGameVisible = true;\n\t}\n\n\tstartGame(data: { layout: Layout; mode: string }): void {\n\t\tthis.newGameVisible = false;\n\t\tthis.game.reset();\n\t\tthis.game.start(data.layout, data.mode);\n\t}\n\n\ttoggleNewGame(): void {\n\t\t// if (!this.game.isIdle()) {\n\t\t\tthis.newGameVisible = !this.newGameVisible;\n\t\t// }\n\t}\n\n\ttoggleTilesInfo(): void {\n\t\tthis.tilesInfoVisible = !this.tilesInfoVisible;\n\t}\n\n\ttoggleSettings(): void {\n\t\tthis.settingsVisible = !this.settingsVisible;\n\t\tif (!this.settingsVisible) {\n\t\t\tthis.app.settings.save();\n\t\t}\n\t}\n\n\ttoggleHelp(): void {\n\t\tthis.helpVisible = !this.helpVisible;\n\t}\n\n\tclickMessage(): void {\n\t\tif (this.game.isPaused()) {\n\t\t\tthis.game.resume();\n\t\t} else {\n\t\t\tthis.game.reset();\n\t\t\tthis.newGameVisible = true;\n\t\t}\n\t}\n\n\t// debugCheat(): void {\n\t// \t(this.game as any).gameOverWining();\n\t// }\n\n}\n","<div class=\"controls controls-top\">\n\t<div class=\"ctrl ctrl-name\">\n\t\t<span class=\"link button\" (click)=\"toggleHelp()\" title=\"{{'OPEN_HELP' | translate}}\"><span class=\"name\">{{app.name}}</span></span>\n\t</div>\n\t<div class=\"ctrl ctrl-game\">\n\t\t<span class=\"link button\" (click)=\"enterFullScreen()\" title=\"{{'FULLSCREEN' | translate}}\">\n\t\t\t<i class=\"icon-resize-full-alt\"></i> <span class=\"label\">{{'FULLSCREEN' | translate}}</span>\n\t\t</span>\n\t\t<span class=\"link button\" (click)=\"game.toggle()\" title=\"{{'PAUSE_LONG' | translate}}\">\n\t\t\t<i class=\"icon-pause\"></i> <span class=\"label\">{{'PAUSE' | translate}}</span>\n\t\t</span>\n\t\t<span class=\"link button\" (click)=\"game.back()\" title=\"{{'UNDO_LONG' | translate}}\" [attr.disabled]=\"game.undo.length==0 ? true : null\">\n\t\t\t<i class=\"icon-undo\"></i> <span class=\"label\">{{'UNDO' | translate}}</span>\n\t\t</span>\n\t\t<span class=\"link button\" (click)=\"game.hint()\" title=\"{{'HINT_LONG' | translate}}\">\n\t\t\t<i class=\"icon-lightbulb\"></i> <span class=\"label\">{{'HINT' | translate}}</span>\n\t\t</span>\n\t\t<span class=\"link button\" (click)=\"newGame()\" title=\"{{'RESTART_LONG' | translate}}\">\n\t\t\t<i class=\"icon-loop\"></i> <span class=\"label\">{{'RESTART' | translate}}</span>\n\t\t</span>\n\t</div>\n</div>\n<app-board class=\"board\" [tiles]=\"game.board.stones\" [imageSet]=\"app.settings.tileset\" [background]=\"app.settings.background\" (clickEvent)=\"stoneClick($event)\"></app-board>\n<div class=\"controls controls-bottom\">\n\t<div class=\"ctrl ctrl-stats\">\n\t\t<span class=\"link button\" (click)=\"toggleSettings()\" title=\"{{'OPEN_SETTINGS' | translate}}\">\n\t\t\t<i class=\"icon-cog\"></i>\n\t\t</span>\n\t\t<span class=\"link button\" [class.inactive]=\"!app.settings.sounds\" (click)=\"app.toggleSound()\" title=\"{{'AUDIO_SOUNDS'|translate}}\">\n\t\t\t<i class=\"icon-volume-low\"></i>\n\t\t</span>\n\t\t<span class=\"link button\" (click)=\"toggleTilesInfo()\" title=\"{{'TILES_INFO' | translate}}\">\n\t\t\t<i class=\"icon-calendar\"></i>\n\t\t</span>\n\t\t<span class=\"label button\"><small>{{'STONES' | translate}}</small>: <span>{{game.board.count}}</span></span>\n\t\t<span class=\"label button\"><small>{{'FREE' | translate}}</small>: <span>{{game.board.free.length}}</span></span>\n<!--\t\t<span class=\"label button\" (click)=\"debugCheat()\">CHEAT</span>-->\n\t</div>\n\t<div class=\"ctrl ctrl-time\">\n\t\t<span>{{game.clock.elapsed | duration}}</span>\n\t</div>\n</div>\n\n<div *ngIf=\"helpVisible\" class=\"overlay overlay-help\" (click)=\"toggleHelp();\">\n\t<div class=\"overlay-popup\" (click)=\"$event.stopPropagation();\">\n\t\t<span class=\"close\" (click)=\"toggleHelp()\"><i class=\"icon-cancel-circled2 pull-right\"></i></span>\n\t\t<app-help></app-help>\n\t</div>\n</div>\n<div *ngIf=\"settingsVisible\" class=\"overlay overlay-settings\" (click)=\"toggleSettings();\">\n\t<div class=\"overlay-popup\" (click)=\"$event.stopPropagation();\">\n\t\t<span class=\"close\" (click)=\"toggleSettings()\"><i class=\"icon-cancel-circled2 pull-right\"></i></span>\n\t\t<app-settings></app-settings>\n\t</div>\n</div>\n<div *ngIf=\"game.message\" class=\"overlay overlay-message\" (click)=\"clickMessage();\">\n\t<div class=\"overlay-popup\">\n\t\t<div *ngIf=\"game.message.msgID\">{{game.message.msgID | translate}}</div>\n\t\t<div *ngIf=\"game.message.playTime\">{{game.message.playTime | duration}}</div>\n\t</div>\n</div>\n<div *ngIf=\"tilesInfoVisible\" class=\"overlay overlay-tiles-info\" (click)=\"toggleTilesInfo();\">\n\t<div class=\"overlay-popup\" (click)=\"$event.stopPropagation();\">\n\t\t<span class=\"close\" (click)=\"toggleTilesInfo()\"><i class=\"icon-cancel-circled2 pull-right\"></i></span>\n\t\t<app-tiles-info [imageSet]=\"app.settings.tileset\"></app-tiles-info>\n\t</div>\n</div>\n<div *ngIf=\"layouts && newGameVisible\" (click)=\"toggleNewGame();\" class=\"overlay overlay-newgame\">\n\t<div class=\"overlay-popup\" (click)=\"$event.stopPropagation();\">\n\t\t<span class=\"close\" (click)=\"toggleNewGame();\"><i class=\"icon-cancel-circled2 pull-right\"></i></span>\n\t\t<app-choose-layout class=\"choose\" [layouts]=\"layouts\" (startEvent)=\"startGame($event)\"></app-choose-layout>\n\t</div>\n</div>\n","import {Component} from '@angular/core';\nimport {Meta} from '@angular/platform-browser';\nimport {TranslateService} from '@ngx-translate/core';\nimport {Layouts} from './model/types';\nimport {AppService} from './service/app.service';\nimport {LayoutService} from './service/layout.service';\nimport {LocalstorageService} from './service/localstorage.service';\n\n@Component({\n\tselector: 'app-root',\n\ttemplateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\tlayouts: Layouts;\n\tloading = true;\n\n\tconstructor(private layoutService: LayoutService, private storage: LocalstorageService, private translate: TranslateService, private meta: Meta, public app: AppService) {\n\t\tthis.updateName();\n\t\tthis.loadLayouts();\n\t\tthis.registerWindowListeners();\n\t}\n\n\tprivate loadLayouts(): void {\n\t\tthis.layoutService.get().then(\n\t\t\tdata => {\n\t\t\t\tthis.layouts = data;\n\t\t\t\tthis.loading = false;\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t}\n\n\tprivate registerWindowListeners(): void {\n\t\t// does not work:\n\t\t// @HostListener('window:onbeforeunload')\n\t\t// public onBeforeUnload() {}\n\t\t// => old style!\n\t\twindow.addEventListener('beforeunload', () => {\n\t\t\tif (this.app.game.isRunning()) {\n\t\t\t\tthis.app.game.pause();\n\t\t\t}\n\t\t}, false);\n\t\twindow.addEventListener('blur', () => {\n\t\t\tif (this.app.game.isRunning()) {\n\t\t\t\tthis.app.game.pause();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\tprivate updateName(): void {\n\t\tconst tag = this.meta.getTag('name=application-name');\n\t\tthis.app.name = tag ? tag.content : this.app.name;\n\t}\n\n}\n","<app-game-component [hidden]=\"loading\" [layouts]=\"layouts\"></app-game-component>\n","import {HttpClientModule} from '@angular/common/http';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {TranslateModule} from '@ngx-translate/core';\n\nimport {AppComponent} from './app.component';\nimport {BoardComponent} from './components/board/board.component';\nimport {ChooseLayoutComponent} from './components/choose-layout/choose-layout.component';\nimport {GameComponent} from './components/game/game-component.component';\nimport {HelpComponent} from './components/help/help.component';\nimport {ImageSetLoaderComponent} from './components/image-set-loader/image-set-loader.component';\nimport {LayoutPreviewComponent} from './components/layout-preview/layout-preview.component';\nimport {SettingsComponent} from './components/settings/settings.component';\nimport {TileComponent} from './components/tile/tile.component';\nimport {TilesInfoComponent} from './components/tiles-info/tiles-info.component';\nimport {DropZoneDirective} from './directives/drop-zone.directive';\nimport {DeferLoadModule} from './modules/defer-load';\nimport {DurationPipe} from './pipes/duration.pipe';\nimport {PrefixPipe} from './pipes/prefix.pipe';\nimport {AppService} from './service/app.service';\nimport {LayoutService} from './service/layout.service';\nimport {SvgdefService} from './service/svgdef.service';\n\n@NgModule({\n\timports: [\n\t\tBrowserModule,\n\t\tFormsModule,\n\t\tHttpClientModule,\n\t\tDeferLoadModule.forRoot(),\n\t\tTranslateModule.forRoot()\n\t],\n\tdeclarations: [\n\t\tAppComponent,\n\t\tChooseLayoutComponent,\n\t\tGameComponent,\n\t\tHelpComponent,\n\t\tLayoutPreviewComponent,\n\t\tBoardComponent,\n\t\tDurationPipe,\n\t\tPrefixPipe,\n\t\tTilesInfoComponent,\n\t\tTileComponent,\n\t\tImageSetLoaderComponent,\n\t\tSettingsComponent,\n\t\tDropZoneDirective\n\t],\n\tproviders: [\n\t\tAppService,\n\t\tLayoutService,\n\t\tSvgdefService\n\t],\n\tbootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","export class Clock {\n\telapsed = 0;\n\tprivate lastTime = 0;\n\tprivate started = 0;\n\tprivate timer?: number = undefined;\n\n\tstart(): void {\n\t\tif (!this.timer) {\n\t\t\tthis.elapsed = this.elapsed || 0;\n\t\t}\n\t}\n\n\treset(): void {\n\t\tif (this.timer) {\n\t\t\twindow.clearTimeout(this.timer);\n\t\t\tthis.timer = undefined;\n\t\t}\n\t\tthis.started = 0;\n\t\tthis.lastTime = 0;\n\t\tthis.elapsed = 0;\n\t}\n\n\trun(): void {\n\t\tif (this.timer) {\n\t\t\treturn;\n\t\t}\n\t\tthis.lastTime = Date.now();\n\t\tthis.timer = window.setTimeout(() => {\n\t\t\tthis.step();\n\t\t}, 1000);\n\t}\n\n\tpause(): void {\n\t\tif (!this.timer) {\n\t\t\treturn;\n\t\t}\n\t\twindow.clearTimeout(this.timer);\n\t\tthis.timer = undefined;\n\t\tconst newtime = Date.now();\n\t\tthis.elapsed += newtime - this.lastTime;\n\t}\n\n\tprivate step(): void {\n\t\tconst newtime = Date.now();\n\t\tthis.elapsed += newtime - this.lastTime;\n\t\tthis.lastTime = newtime;\n\t\tthis.timer = window.setTimeout(() => {\n\t\t\tthis.step();\n\t\t}, 1000);\n\t}\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\nfunction pad(num: number): string {\n\treturn (num < 10 ? '0' : '') + num.toString();\n}\n\n@Pipe({\n\tname: 'duration'\n})\nexport class DurationPipe implements PipeTransform {\n\ttransform(value: number): string {\n\t\tif (isNaN(value) || (value === 0)) {\n\t\t\treturn '-';\n\t\t}\n\t\tconst secNum = Math.floor(value / 1000);\n\t\tconst hours = Math.floor(secNum / 3600);\n\t\tconst minutes = Math.floor((secNum - (hours * 3600)) / 60);\n\t\tconst seconds = secNum - (hours * 3600) - (minutes * 60);\n\t\treturn `${(hours > 0) ? `${pad(hours)  }:` : ''}${pad(minutes)}:${pad(seconds)}`;\n\t}\n}\n","import {getDrawViewPort, mappingToDrawItems} from './draw';\nimport {Mapping} from './types';\n\nexport function generateStaticLayoutSVG(mapping: Mapping): string {\n\tconst items = mappingToDrawItems(mapping);\n\tconst viewport = getDrawViewPort(items, 1470, 960, false);\n\tconst sl: Array<string> = [];\n\tsl.push(`<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"board-svg\" viewBox=\"${viewport}\" preserveAspectRatio=\"xMidYMid meet\" height=\"100%\" width=\"100%\">`);\n\tfor (const draw of items) {\n\t\tsl.push(`<g transform=\"${draw.pos.translate}\"><rect class=\"stone\" fill=\"#FFF9E5\" stroke-width=\"2\" stroke=\"black\" x=\"0\" y=\"0\" width=\"75\" height=\"100\" rx=\"10\" ry=\"10\"></rect></g>`);\n\t}\n\tsl.push('</svg>');\n\treturn `data:image/svg+xml;base64,${window.btoa(sl.join(''))}`;\n}\n","import {Component, Input} from '@angular/core';\nimport {TILES_INFO} from '../../model/consts';\n\n@Component({\n\tselector: 'app-tiles-info',\n\ttemplateUrl: './tiles-info.component.html',\n\tstyleUrls: ['./tiles-info.component.scss']\n})\nexport class TilesInfoComponent {\n\tinfo = TILES_INFO;\n\t@Input() imageSet: any;\n}\n","<h1>{{'TILES'|translate}}</h1>\n<div class=\"tiles-content\">\n\t<div class=\"tiles-section\" *ngFor=\"let suit of info.suits\">\n\t\t<div class=\"tiles-title\">{{suit.name}}</div>\n\t\t<div class=\"tiles-set-9\">\n\t\t\t<div class=\"tile\" *ngFor=\"let tile of suit.tiles\">\n\t\t\t\t<app-tile [tile]=\"tile.img\" [imageSet]=\"imageSet\"></app-tile>\n\t\t\t\t<div [innerHtml]=\"tile.name\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"tiles-section-half\" *ngFor=\"let group of [info.bonus, info.honors] \">\n\t\t<div class=\"tiles-section-4\" *ngFor=\"let suit of group\">\n\t\t\t<div class=\"tiles-title\">{{suit.name}}</div>\n\t\t\t<div class=\"tiles-set-4\">\n\t\t\t\t<div class=\"tile\" *ngFor=\"let tile of suit.tiles\">\n\t\t\t\t\t<app-tile [tile]=\"tile.img\" [imageSet]=\"imageSet\"></app-tile>\n\t\t\t\t\t<div [innerHtml]=\"tile.name\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n\tname: 'prefix'\n})\nexport class PrefixPipe implements PipeTransform {\n\ttransform(value: string | undefined, prefix: string): string {\n\t\treturn `${prefix}${value}`;\n\t}\n}\n","import {Board} from './board';\nimport {Clock} from './clock';\nimport {STATES} from './consts';\nimport {Sound, SOUNDS} from './sound';\nimport {Stone} from './stone';\nimport {GameStateStore, Layout, StorageProvider} from './types';\n\nexport class Game {\n\tclock: Clock = new Clock();\n\tboard: Board = new Board();\n\tsound: Sound = new Sound();\n// music: Music = new Music();\n\tstate: number = STATES.idle;\n\tmessage?: { msgID?: string; playTime?: number };\n\tlayoutID?: string = undefined;\n\tundo: Array<Array<number>> = [];\n\n\tconstructor(private storage: StorageProvider) {\n\t}\n\n\tinit(): void {\n\t\tthis.load();\n\t\tthis.board.update();\n\t\tif (this.state === STATES.run) {\n\t\t\tthis.pause();\n\t\t}\n\t\tthis.message = {msgID: this.isPaused() ? 'MSG_CONTINUE_SAVE' : 'MSG_START'};\n\t}\n\n\tclick(stone: Stone): boolean {\n\t\tif (!stone) {\n\t\t\tthis.board.clearSelection();\n\t\t\treturn false;\n\t\t}\n\t\tif (!this.isRunning() || stone.state.blocked) {\n\t\t\tthis.sound.play(SOUNDS.NOPE);\n\t\t\treturn true;\n\t\t}\n\t\tif (this.clock.elapsed === 0) {\n\t\t\tthis.clock.run();\n\t\t}\n\t\tif (this.board.selected && stone && stone !== this.board.selected && stone.groupnr === this.board.selected.groupnr) {\n\t\t\tthis.resolveMatchingStone(stone);\n\t\t\treturn true;\n\t\t}\n\t\tif (this.board.selected !== stone) {\n\t\t\tthis.sound.play(SOUNDS.SELECT);\n\t\t}\n\t\tthis.board.setStoneSelected(this.board.selected !== stone ? stone : undefined);\n\t\treturn true;\n\t}\n\n\tisRunning(): boolean {\n\t\treturn this.state === STATES.run;\n\t}\n\n\tisFreezed(): boolean {\n\t\treturn this.state === STATES.freeze;\n\t}\n\n\tisPaused(): boolean {\n\t\treturn this.state === STATES.pause;\n\t}\n\n\tisIdle(): boolean {\n\t\treturn this.state === STATES.idle;\n\t}\n\n\tresume(): void {\n\t\tthis.run();\n\t\tthis.clock.run();\n\t\t// if (this.settings.music) {\n\t\t// \tthis.music.play();\n\t\t// }\n\t}\n\n\tfreeze(): void {\n\t\tthis.setState(STATES.freeze);\n\t\tthis.clock.pause();\n\t}\n\n\tunfreeze(): void {\n\t\tthis.setState(STATES.run);\n\t\tthis.clock.run();\n\t\t// if (this.settings.music) {\n\t\t// \tthis.music.play();\n\t\t// }\n\t}\n\n\trun(): void {\n\t\tthis.board.clearHints();\n\t\tthis.board.update();\n\t\tthis.setState(STATES.run);\n\t}\n\n\thint(): void {\n\t\tthis.board.hint();\n\t}\n\n\ttoggle(): void {\n\t\tif (this.state === STATES.run) {\n\t\t\tthis.pause();\n\t\t} else if (this.state === STATES.pause) {\n\t\t\tthis.resume();\n\t\t}\n\t}\n\n\tpause(): void {\n\t\tthis.clock.pause();\n\t\tthis.setState(STATES.pause, 'MSG_CONTINUE_PAUSE');\n\t\tthis.save();\n\t\t// if (this.settings.music) {\n\t\t// \tthis.music.pause();\n\t\t// }\n\t}\n\n\treset(): void {\n\t\tthis.clock.reset();\n\t\tthis.setState(STATES.idle);\n\t\tthis.board.reset();\n\t\tthis.undo = [];\n\t}\n\n\tstart(layout: Layout, mode: string): void {\n\t\tthis.layoutID = layout.id;\n\t\tthis.board.applyMapping(layout.mapping, mode);\n\t\tthis.board.update();\n\t\tthis.run();\n\t}\n\n\tback(): void {\n\t\tif (!this.isRunning() || (this.undo.length < 2)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.board.clearSelection();\n\t\tthis.board.clearHints();\n\t\tconst n1 = this.undo.pop();\n\t\tconst n2 = this.undo.pop();\n\t\tif (!n1 || !n2) {\n\t\t\treturn;\n\t\t}\n\t\tthis.board.stones.forEach(stone => {\n\t\t\tif ((stone.z === n1[0]) && (stone.x === n1[1]) && (stone.y === n1[2])) {\n\t\t\t\tstone.picked = false;\n\t\t\t} else if ((stone.z === n2[0]) && (stone.x === n2[1]) && (stone.y === n2[2])) {\n\t\t\t\tstone.picked = false;\n\t\t\t}\n\t\t});\n\t\tthis.board.update();\n\t}\n\n\tload(): boolean {\n\t\ttry {\n\t\t\tconst store: GameStateStore | undefined = this.storage.getState();\n\t\t\tif (store && store.stones) {\n\t\t\t\tthis.clock.elapsed = store.elapsed || 0;\n\t\t\t\tthis.undo = store.undo || [];\n\t\t\t\tthis.layoutID = store.layout;\n\t\t\t\tthis.state = store.state || STATES.idle;\n\t\t\t\tthis.board.load(store.stones, this.undo);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error('load state failed', e);\n\t\t}\n\t\treturn false;\n\t}\n\n\tsave(): void {\n\t\ttry {\n\t\t\tthis.storage.storeState({\n\t\t\t\telapsed: this.clock.elapsed,\n\t\t\t\tstate: this.state,\n\t\t\t\tlayout: this.layoutID || '',\n\t\t\t\tundo: this.undo,\n\t\t\t\tstones: this.board.save()\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.error('storing state failed', e);\n\t\t}\n\t}\n\n\tprivate gameOverLoosing(): void {\n\t\tconst id = this.layoutID || 'unknown';\n\t\tconst score = this.storage.getScore(id) || {};\n\t\tscore.playCount = (score.playCount || 0) + 1;\n\t\tthis.storage.storeScore(id, score);\n\t\tthis.gameOver('MSG_FAIL');\n\t}\n\n\tprivate gameOverWining(): void {\n\t\tconst id = this.layoutID || 'unknown';\n\t\tconst playTime = this.clock.elapsed;\n\t\tconst score = this.storage.getScore(id) || {};\n\t\tscore.playCount = (score.playCount || 0) + 1;\n\t\tif (!score.bestTime || score.bestTime > playTime) {\n\t\t\tscore.bestTime = playTime;\n\t\t\tthis.gameOver('MSG_BEST', playTime);\n\t\t} else {\n\t\t\tthis.gameOver('MSG_GOOD', playTime);\n\t\t}\n\t\tthis.storage.storeScore(id, score);\n\t}\n\n\t// toggleMusic(): void {\n\t// if (!this.settings.music) {\n\t// \tthis.music.stop();\n\t// } else {\n\t// \tthis.music.play();\n\t// }\n\t// }\n\n\tprivate delayedSave(): void {\n\t\tsetTimeout(() => {\n\t\t\tthis.save();\n\t\t}, 500);\n\t}\n\n\tprivate resolveMatchingStone(stone: Stone): void {\n\t\tconst sel = this.board.selected;\n\t\tif (!sel) {\n\t\t\treturn;\n\t\t}\n\t\tthis.board.clearSelection();\n\t\tthis.undo.push([sel.z, sel.x, sel.y], [stone.z, stone.x, stone.y]);\n\t\tthis.board.clearHints();\n\t\tsel.picked = true;\n\t\tstone.picked = true;\n\t\tthis.board.update();\n\t\tif (this.board.count < 2) {\n\t\t\tthis.gameOverWining();\n\t\t} else if (this.board.free.length < 1) {\n\t\t\tthis.gameOverLoosing();\n\t\t} else {\n\t\t\tthis.sound.play(SOUNDS.MATCH);\n\t\t\tthis.delayedSave();\n\t\t}\n\t}\n\n\tprivate gameOver(message: string, playTime?: number): void {\n\t\tthis.sound.play(SOUNDS.OVER);\n\t\tthis.setState(STATES.idle, message, playTime);\n\t\tthis.clock.reset();\n\t\tthis.delayedSave();\n\t}\n\n\tprivate setState(state: number, msgID?: string, playTime?: number): void {\n\t\tthis.message = msgID ? {msgID, playTime} : undefined;\n\t\tthis.state = state;\n\t}\n\n}\n","import {Consts} from './consts';\nimport {Stone} from './stone';\nimport {Mapping} from './types';\n\nexport interface DrawPos {\n\tx: number;\n\ty: number;\n\tz: number;\n\ttranslate: string;\n}\n\nexport interface Draw {\n\tx: number;\n\ty: number;\n\tz: number;\n\tv: number;\n\tpos: DrawPos;\n\tvisible: boolean;\n\turl?: string;\n\tcolor?: string;\n\tsource: Stone;\n}\n\nexport function calcDrawPos(z: number, x: number, y: number): DrawPos {\n\tconst pos = {\n\t\tx: ((Consts.tileWidth + 2) * x / 2 - (z * 8)) + (Consts.tileWidth / 2),\n\t\ty: ((Consts.tileHeight + 2) * y / 2 - (z * 8)) + (Consts.tileHeight / 2),\n\t\tz: y + Consts.mY * (x + Consts.mX * z),\n\t\ttranslate: ''\n\t};\n\tpos.translate = `translate(${pos.x},${pos.y})`;\n\treturn pos;\n}\n\nexport function sortDrawItems(items: Array<Draw>): Array<Draw> {\n\tconst sortToDraw = (draw: Draw) => draw.pos.z;\n\treturn items.sort((ad: Draw, bd: Draw) => {\n\t\tconst a = sortToDraw(ad);\n\t\tconst b = sortToDraw(bd);\n\t\tif (a < b) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (a > b) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t});\n}\n\nexport function getDrawViewPort(items: Array<Draw>, width: number, height: number, rotate: boolean): string {\n\tconst bounds = getDrawBounds(items, width, height);\n\tconst b: Array<number> = rotate ?\n\t\t[-bounds[3] - Consts.tileHeight - 10, -bounds[0] - 30, bounds[3] + Consts.tileHeight - 10, bounds[2] + bounds[0] + Consts.tileWidth + 40] :\n\t\t[bounds[0] - 40, bounds[1] - 20, bounds[2] + Consts.tileHeight + 40, bounds[3] + Consts.tileHeight + 20];\n\treturn b.join(' ');\n}\n\nexport function getDrawBounds(items: Array<Draw>, width: number, height: number): Array<number> {\n\tconst m = Math.max(width, height);\n\tconst bounds = [m, m, 0, 0];\n\titems.forEach(draw => {\n\t\tbounds[0] = Math.min(bounds[0], draw.pos.x);\n\t\tbounds[1] = Math.min(bounds[1], draw.pos.y);\n\t\tbounds[2] = Math.max(bounds[2], draw.pos.x);\n\t\tbounds[3] = Math.max(bounds[3], draw.pos.y);\n\t});\n\treturn bounds;\n}\n\nexport function mappingToDrawItems(mapping: Mapping): Array<Draw> {\n\tconst emptySource: Stone = new Stone(0, 0, 0, 0, 0);\n\tconst result = mapping.map((row: Array<number>): Draw =>\n\t\t({\n\t\t\tz: row[0],\n\t\t\tx: row[1],\n\t\t\ty: row[2],\n\t\t\tv: 0,\n\t\t\tvisible: true,\n\t\t\tpos: calcDrawPos(row[0], row[1], row[2]),\n\t\t\tsource: emptySource\n\t\t}));\n\treturn sortDrawItems(result);\n}\n","export const version = '1.2.0';\n","import {Injectable} from '@angular/core';\nimport {GameStateStore, LayoutScoreStore, SettingsStore, StorageProvider} from '../model/types';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class LocalstorageService implements StorageProvider {\n\n\tprivate readonly prefix = 'mah.';\n\n\tconstructor() {\n\t\tthis.updateData();\n\t}\n\n\tgetScore(id: string): LayoutScoreStore | undefined {\n\t\treturn this.get<LayoutScoreStore>(`score.${id}`);\n\t}\n\n\tgetSettings(): SettingsStore | undefined {\n\t\treturn this.get<SettingsStore>('settings');\n\t}\n\n\tgetState(): GameStateStore | undefined {\n\t\treturn this.get<GameStateStore>('state');\n\t}\n\n\tgetLastPlayed(): string | undefined {\n\t\tif (!localStorage) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst result = localStorage.getItem('last');\n\t\t\treturn result || undefined;\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t}\n\t\treturn;\n\t}\n\n\tstoreLastPlayed(id: string): void {\n\t\tif (!localStorage) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tif (!id) {\n\t\t\t\tlocalStorage.removeItem('last');\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('last', id);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t}\n\t}\n\n\tstoreScore(id: string, store?: LayoutScoreStore): void {\n\t\tthis.set<LayoutScoreStore>(`score.${id}`, store);\n\t}\n\n\tclearScore(id: string): void {\n\t\tthis.set<LayoutScoreStore>(`score.${id}`, undefined);\n\t}\n\n\tstoreSettings(store?: SettingsStore): void {\n\t\tthis.set<SettingsStore>('settings', store);\n\t}\n\n\tstoreState(store?: GameStateStore): void {\n\t\tthis.set<GameStateStore>('state', store);\n\t}\n\n\tprivate get<T>(key: string): T | undefined {\n\t\tif (!localStorage) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tconst s = localStorage.getItem(`${this.prefix}${key}`);\n\t\t\tif (!s) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn JSON.parse(s);\n\t\t} catch (e) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\tprivate set<T>(key: string, data?: T): void {\n\t\tif (!localStorage) {\n\t\t\treturn;\n\t\t}\n\t\tif (data === undefined) {\n\t\t\tlocalStorage.removeItem(`${this.prefix}${key}`);\n\t\t} else {\n\t\t\tlocalStorage.setItem(this.prefix + key, JSON.stringify(data));\n\t\t}\n\t}\n\n\tprivate updateData(): void {\n\t\tif (!localStorage) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tlet old = localStorage.getItem('state');\n\t\t\tif (old) {\n\t\t\t\tlocalStorage.removeItem('state');\n\t\t\t\tthis.set<any>('state', JSON.parse(old));\n\t\t\t}\n\t\t\told = localStorage.getItem('settings');\n\t\t\tif (old) {\n\t\t\t\tlocalStorage.removeItem('settings');\n\t\t\t\tthis.set<any>('settings', JSON.parse(old));\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t}\n\t}\n\n}\n","import {Component, EventEmitter, HostBinding, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {Backgrounds} from '../../model/consts';\nimport {calcDrawPos, Draw, getDrawViewPort, sortDrawItems} from '../../model/draw';\nimport {Stone} from '../../model/stone';\n\n@Component({\n\tselector: 'app-board',\n\ttemplateUrl: './board.component.html',\n\tstyleUrls: ['./board.component.scss']\n})\nexport class BoardComponent implements OnInit, OnChanges {\n\t@Input() background: string;\n\t@Input() imageSet: string;\n\t@Input() tiles: Array<Stone>;\n\t@Output() readonly clickEvent = new EventEmitter<Stone>();\n\t@HostBinding('style.background-image') backgroundUrl: string | undefined;\n\tdrawStones: Array<Draw> = [];\n\trotate: boolean = false;\n\ttranslate: string = '';\n\tviewport: string = '0 0 1470 960';\n\tprefix: string;\n\turlPrefix: string;\n\n\tngOnInit(): void {\n\t\tthis.resize(window);\n\t}\n\n\ttrackByDrawStone(index: number, draw: Draw): string {\n\t\treturn `${draw.source.groupnr}/${draw.source.v}`;\n\t}\n\n\tngOnChanges(changes: SimpleChanges): void {\n\t\tif (changes.tiles) {\n\t\t\tthis.updateTiles(changes.tiles.currentValue);\n\t\t}\n\t\tif (changes.background) {\n\t\t\tthis.updateBackground(changes.background.currentValue);\n\t\t}\n\t\tif (changes.imageSet) {\n\t\t\tthis.prefix = `b_${changes.imageSet.currentValue}_`;\n\t\t\tthis.urlPrefix = `#b_${changes.imageSet.currentValue}_`;\n\t\t}\n\t}\n\n\tonClick(event: MouseEvent, draw?: Draw): void {\n\t\tthis.clickEvent.emit(draw ? draw.source : undefined);\n\t\tevent.stopPropagation();\n\t}\n\n\tresize(element: { innerHeight: number; innerWidth: number }): void {\n\t\tconst r = element.innerHeight > element.innerWidth;\n\t\tif (r !== this.rotate) {\n\t\t\tthis.rotate = r;\n\t\t\tthis.translate = this.rotate ? 'rotate(90)' : '';\n\t\t\tthis.setViewPort();\n\t\t}\n\t}\n\n\tonResize(event: UIEvent): void {\n\t\tconst element = event.target as Window;\n\t\tif (element) {\n\t\t\tthis.resize(element);\n\t\t}\n\t}\n\n\tprivate setViewPort(): void {\n\t\tthis.viewport = getDrawViewPort(this.drawStones, 1470, 960, this.rotate);\n\t}\n\n\tprivate updateTiles(stones: Array<Stone>): void {\n\t\tif (!stones) {\n\t\t\treturn;\n\t\t}\n\t\tconst items = stones\n\t\t\t.filter((stone: Stone) => (stone !== undefined))\n\t\t\t.map((stone: Stone): Draw =>\n\t\t\t\t({\n\t\t\t\t\tz: stone.z,\n\t\t\t\t\tx: stone.x,\n\t\t\t\t\ty: stone.y,\n\t\t\t\t\tv: stone.v,\n\t\t\t\t\tvisible: true,\n\t\t\t\t\turl: stone.img?.id,\n\t\t\t\t\tpos: calcDrawPos(stone.z, stone.x, stone.y),\n\t\t\t\t\tsource: stone\n\t\t\t\t}));\n\t\tthis.drawStones = sortDrawItems(items);\n\t\tthis.setViewPort();\n\t}\n\n\tprivate updateBackground(background: string): void {\n\t\tconst back = Backgrounds.find(b => b.img === background);\n\t\tthis.backgroundUrl = back && back.img ? `url(\"assets/img/${back.img}\")` : undefined;\n\t}\n}\n","<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"board-svg\" [class.rotate]=\"rotate\" [attr.viewBox]=\"viewport\" preserveAspectRatio=\"xMidYMid meet\" (window:resize)=\"onResize($event)\" (mousedown)=\"onClick($event)\">\n\t<defs>\n\t\t<filter id=\"filter4198-8\" style=\"color-interpolation-filters:sRGB\">\n\t\t\t<feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"8\"/>\n\t\t</filter>\n\t\t<svg id=\"front\" width=\"300\" height=\"400\" viewBox=\"0 0 300 400\">\n\t\t\t<path d=\"m 151.73588,1025.0177 c -3.32683,-9.3138 -10.24843,-68.45389 5.31821,-90.62655 20.27717,-26.12032 219.43558,-16.45796 231.55506,-9.93184 11.07433,5.31702 -178.60366,0.0589 -204.85126,34.86646 -21.59349,30.0006 -26.50086,82.17843 -32.02201,65.69193 z\"\n\t\t\t\t\t\tstyle=\"fill:#000000;fill-opacity:0.15;fill-rule:evenodd;stroke:none;filter:url(#filter4198-8)\"\n\t\t\t\t\t\ttransform=\"rotate(180,228.93649,666.47892)\"/>\n\t\t\t<path transform=\"translate(5.9349307,-644.92912)\"\n\t\t\t\t\t\tstyle=\"fill:#ffffff;fill-opacity:0.4;fill-rule:evenodd;stroke:none;filter:url(#filter4198-8)\"\n\t\t\t\t\t\td=\"M -4.7687833,775.07096 C -9.6501835,741.99485 -16.84552,674.23676 -1.2788716,652.0641 18.998297,625.94378 233.50094,631.63117 263.31435,653.90999 276.21398,662.64856 70.349579,663.12124 47.099353,691.74479 24.390958,719.11242 0.65060847,818.18718 -4.7687833,775.07096 Z\"/>\n\t\t</svg>\n\t</defs>\n\t<defs app-image-set-loader [imageSet]=\"imageSet\" [prefix]=\"prefix\"></defs>\n\t<g class=\"stage\" [attr.transform]=\"translate\">\n\t\t<g *ngFor=\"let draw of drawStones; trackBy:trackByDrawStone\" class=\"draw\"\n\t\t\t [class.selected]=\"draw.source.selected\"\n\t\t\t [class.hidden]=\"draw.source.picked\"\n\t\t\t [class.hinted]=\"draw.source.hinted\"\n\t\t\t [attr.transform]=\"draw.pos.translate\" (mousedown)=\"onClick($event, draw)\">\n\t\t\t<g class=\"tile\">\n\t\t\t\t<rect class=\"shadow\" x=\"3\" y=\"3\" width=\"75px\" height=\"100px\" rx=\"10\" ry=\"10\"></rect>\n\t\t\t\t<rect class=\"stone\" x=\"0\" y=\"0\" width=\"75\" height=\"100\" rx=\"10\" ry=\"10\"></rect>\n\t\t\t\t<use [attr.xlink:href]=\"draw.url | prefix:urlPrefix\" x=\"6\" y=\"6\" width=\"63\" height=\"88\"/>\n\t\t\t\t<use xlink:href=\"#front\" x=\"0\" y=\"0\" width=\"75\" height=\"100\"/>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</svg>\n","import {Component, EventEmitter, Input, OnChanges, Output, SimpleChanges} from '@angular/core';\nimport {TranslateService} from '@ngx-translate/core';\nimport {Builder} from '../../model/builder';\nimport {Layout, Layouts} from '../../model/types';\nimport {LayoutService} from '../../service/layout.service';\nimport {LocalstorageService} from '../../service/localstorage.service';\n\nexport interface LayoutItem {\n\tlayout: Layout;\n\tvisible: boolean;\n\tplayCount?: number;\n\tbestTime?: number;\n\tselected?: boolean;\n}\n\nexport interface LayoutGroup {\n\tname: string;\n\tlayouts: Array<LayoutItem>;\n\tvisible: boolean;\n}\n\n@Component({\n\tselector: 'app-choose-layout',\n\ttemplateUrl: './choose-layout.component.html',\n\tstyleUrls: ['./choose-layout.component.scss']\n})\nexport class ChooseLayoutComponent implements OnChanges {\n\t@Input() layouts: Layouts;\n\t@Output() readonly startEvent = new EventEmitter<{ layout: Layout; mode: string }>();\n\tgroups: Array<LayoutGroup> = [];\n\tmode: string = 'MODE_SOLVABLE';\n\tbuilder: Builder = new Builder();\n\n\tconstructor(private layoutService: LayoutService, private storage: LocalstorageService, private translate: TranslateService) {\n\t}\n\n\tngOnChanges(changes: SimpleChanges): void {\n\t\tif (this.layouts) {\n\t\t\tthis.buildGroups();\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tthis.selectLastPlayed();\n\t\t});\n\t}\n\n\tonStart(layout: Layout): void {\n\t\tif (layout) {\n\t\t\tthis.startEvent.emit({layout, mode: this.mode});\n\t\t\tthis.storage.storeLastPlayed(layout.id);\n\t\t}\n\t}\n\n\tselectLastPlayed(): void {\n\t\tconst id = this.storage.getLastPlayed();\n\t\tif (id) {\n\t\t\tthis.groups.forEach(g => {\n\t\t\t\tg.layouts.forEach(layout => {\n\t\t\t\t\tlayout.selected = layout.layout.id === id;\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.scrollToItem(id);\n\t\t}\n\t}\n\n\tbuildGroups(): void {\n\t\tconst groups: Array<LayoutGroup> = [];\n\t\tconst g: { [name: string]: LayoutGroup } = {};\n\t\tfor (const layout of this.layouts.items) {\n\t\t\tif (!g[layout.category]) {\n\t\t\t\tg[layout.category] = {name: layout.category, layouts: [], visible: false};\n\t\t\t\tgroups.push(g[layout.category]);\n\t\t\t}\n\t\t\tconst score = this.storage.getScore(layout.id) || {};\n\t\t\tg[layout.category].layouts.push({layout, playCount: score.playCount, bestTime: score.bestTime, visible: false});\n\t\t}\n\t\tthis.groups = groups;\n\t}\n\n\trandomGame(): void {\n\t\tconst index = Math.floor(Math.random() * this.layouts.items.length);\n\t\tthis.onStart(this.layouts.items[index]);\n\t}\n\n\tonDrop(files: Array<File>): void {\n\t\tthis.layoutService.importFile(files[0])\n\t\t\t.then(layout => {\n\t\t\t\tthis.layouts.items.push(layout);\n\t\t\t\tthis.buildGroups();\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\talert(e);\n\t\t\t});\n\t}\n\n\tscrollToGroup(index: number): void {\n\t\tconst elements = document.getElementById(`group-${index}`);\n\t\tif (elements) {\n\t\t\telements.scrollIntoView();\n\t\t}\n\t}\n\n\tscrollToItem(id: string): void {\n\t\tconst elements = document.getElementById(`item-${id}`);\n\t\tif (elements) {\n\t\t\telements.scrollIntoView();\n\t\t}\n\t}\n\n\tclearBestTimeClick(event: MouseEvent, layout: LayoutItem): void {\n\t\tevent.stopPropagation();\n\t\tif (confirm(this.translate.instant('BEST_TIME_CLEAR_SURE'))) {\n\t\t\tthis.storage.clearScore(layout.layout.id);\n\t\t\tlayout.bestTime = undefined;\n\t\t\tlayout.playCount = undefined;\n\t\t}\n\t}\n}\n","<div class=\"headline\">\n\t<div>{{'SELECT_BOARD' | translate}}</div>\n</div>\n<div class=\"headline-anchors\" *ngIf=\"groups.length>1\">\n\t<a *ngFor=\"let group of groups; let i=index\" (click)=\"scrollToGroup(i)\">{{group.name}}</a>\n</div>\n<div class=\"groups\" appDeferLoadScrollHost (appDropZone)=\"onDrop($event)\">\n\t<div class=\"group\" *ngFor=\"let group of groups; let i=index\" id=\"group-{{i}}\" (appDeferLoad)=\"group.visible=true\">\n\t\t<div class=\"group-name\" *ngIf=\"groups.length>1\">{{group.name}} ({{group.layouts.length}})</div>\n\t\t<div class=\"previews\">\n\t\t\t<ng-container *ngIf=\"group.visible\">\n\t\t\t\t<div class=\"preview\"\n\t\t\t\t\t\t *ngFor=\"let item of group.layouts\"\n\t\t\t\t\t\t [id]=\"'item-'+item.layout.id\"\n\t\t\t\t\t\t [class.selected]=\"item.selected\"\n\t\t\t\t\t\t (click)=\"onStart(item.layout)\"\n\t\t\t\t\t\t (appDeferLoad)=\"item.visible=true\"\n\t\t\t\t>\n\t\t\t\t\t<app-layout-preview *ngIf=\"item.visible\" class=\"svg-board\" [layout]=\"item.layout\"></app-layout-preview>\n\t\t\t\t\t<div class=\"preview-best-time\" *ngIf=\"item.bestTime\">{{'STATS_BEST' | translate}}: {{item.bestTime|duration}}\n\t\t\t\t\t\t<a (click)=\"clearBestTimeClick($event, item)\">\n\t\t\t\t\t\t\t<i class=\"icon-trash-empty\"></i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"preview-name\">{{item.layout.name}}</div>\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\t\t\t<ng-container *ngIf=\"!group.visible\">\n\t\t\t\t<div class=\"preview\"\n\t\t\t\t\t\t *ngFor=\"let item of group.layouts\"\n\t\t\t\t\t\t [id]=\"'item-'+item.layout.id\"\n\t\t\t\t\t\t [class.selected]=\"item.selected\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"preview-name\">{{item.layout.name}}</div>\n\t\t\t\t</div>\n\t\t\t</ng-container>\n\t\t</div>\n\t</div>\n</div>\n<div class=\"choose-buttons\">\n\t<div class=\"generator\">\n\t\t<label for=\"board-generator-select\">{{'BOARD_GENERATOR' | translate}}:</label>\n\t\t<select id=\"board-generator-select\" [(ngModel)]=\"mode\">\n\t\t\t<option *ngFor=\"let m of builder.modes\" value=\"{{m.id}}\">{{m.id | translate}} - {{m.id + '_DESC' | translate}}</option>\n\t\t</select>\n\t</div>\n\t<div class=\"start-links\">\n\t\t<button class=\"link\" (click)=\"randomGame()\">{{'START_RANDOM' | translate}}</button>\n\t\t<!--\t\t<button class=\"link\" [disabled]=\"!current\" (click)=\"onStart(current)\">{{'START_SELECTED' | translate}}</button>-->\n\t</div>\n</div>\n\n","import {ImageSetDefault} from './consts';\nimport {SettingsStore, StorageProvider} from './types';\n\nexport class Settings {\n\tlang = 'auto';\n\tsounds = true;\n\t// music = false;\n\ttileset = ImageSetDefault;\n\tbackground = '';\n\tstats = {\n\t\tgames: 0,\n\t\tbestTime: 0\n\t};\n\n\tconstructor(private storageProvider: StorageProvider) {\n\t}\n\n\tload(): boolean {\n\t\ttry {\n\t\t\tconst store: SettingsStore | undefined = this.storageProvider.getSettings();\n\t\t\tif (store) {\n\t\t\t\tthis.lang = store.lang || 'auto';\n\t\t\t\tthis.tileset = store.tileset || ImageSetDefault;\n\t\t\t\tthis.background = store.background;\n\t\t\t\t// this.music = store.music || false;\n\t\t\t\tthis.sounds = store.sounds || false;\n\t\t\t\t// this.stats.games = store.games || 0;\n\t\t\t\t// this.stats.bestTime = store.bestTime || 0;\n\t\t\t}\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\tconsole.error('load settings failed', e);\n\t\t}\n\t\treturn false;\n\t}\n\n\tsave(): boolean {\n\t\ttry {\n\t\t\tthis.storageProvider.storeSettings({\n\t\t\t\tlang: this.lang,\n\t\t\t\tsounds: this.sounds,\n\t\t\t\t// music: this.music,\n\t\t\t\tbackground: this.background,\n\t\t\t\ttileset: this.tileset\n\t\t\t\t// games: this.stats.games,\n\t\t\t\t// bestTime: this.stats.bestTime\n\t\t\t});\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\tconsole.error('storing settings failed', e);\n\t\t}\n\t\treturn false;\n\t}\n}\n","/* eslint-disable max-classes-per-file */\nimport {safeGetStone, Stone} from './stone';\nimport {Tile, Tiles} from './tiles';\nimport {Mapping, Place} from './types';\n\ninterface BuilderType {\n\tbuild(mapping: Mapping, tiles: Tiles): Array<Stone>;\n}\n\nfunction random<T>(array: Array<T>): number {\n\treturn Math.floor(Math.random() * array.length);\n}\n\nfunction randomExtract<T>(array: Array<T>): T {\n\tconst i = random(array);\n\treturn array.splice(i, 1)[0];\n}\n\nfunction collectNodes(stones: Array<Stone>, stone: Stone): {\n\ttop: Array<Stone>;\n\tleft: Array<Stone>;\n\tright: Array<Stone>;\n\tbottom: Array<Stone>;\n} {\n\tconst nodes: {\n\t\ttop: Array<Stone>;\n\t\tleft: Array<Stone>;\n\t\tright: Array<Stone>;\n\t\tbottom: Array<Stone>;\n\t} = {left: [], right: [], top: [], bottom: []};\n\tlet s: Stone | undefined;\n\tfor (let y = stone.y - 1; y <= stone.y + 1; y++) {\n\t\ts = safeGetStone(stones, stone.z, stone.x - 2, y);\n\t\tif (s) {\n\t\t\tnodes.left.push(s);\n\t\t}\n\t\ts = safeGetStone(stones, stone.z, stone.x + 2, y);\n\t\tif (s) {\n\t\t\tnodes.right.push(s);\n\t\t}\n\t\tfor (let x = stone.x - 1; x <= stone.x + 1; x++) {\n\t\t\ts = safeGetStone(stones, stone.z + 1, x, y);\n\t\t\tif (s) {\n\t\t\t\tnodes.top.push(s);\n\t\t\t}\n\t\t\ts = safeGetStone(stones, stone.z - 1, x, y);\n\t\t\tif (s) {\n\t\t\t\tnodes.bottom.push(s);\n\t\t\t}\n\t\t}\n\t}\n\treturn nodes;\n}\n\nfunction fillStones(stones: Array<Stone>, tiles: Tiles): Array<Stone> {\n\tconst groups: { [index: number]: Array<Stone> } = {};\n\tstones.forEach((stone: Stone) => {\n\t\tconst tile = tiles.list[stone.v];\n\t\tstone.img = tile ? tile.img : {id: undefined};\n\t\tgroups[stone.groupnr] = groups[stone.groupnr] || [];\n\t\tgroups[stone.groupnr].push(stone);\n\t\tstone.nodes = collectNodes(stones, stone);\n\t});\n\tObject.keys(groups).forEach(key => {\n\t\tconst group: Array<Stone> = groups[parseInt(key, 10)];\n\t\tgroup.forEach((stone: Stone) => {\n\t\t\tstone.group = group.filter((s: Stone) =>\n\t\t\t\ts !== stone);\n\t\t});\n\t});\n\treturn stones;\n}\n\nclass LinearBoardBuilder implements BuilderType {\n\n\tbuild(mapping: Mapping, tiles: Tiles): Array<Stone> {\n\t\tconst remainingTiles: Array<Tile> = tiles.list.filter((tile: Tile): boolean => tile !== undefined);\n\t\tconst stones: Array<Stone> = [];\n\t\tmapping.forEach((place: Place) => {\n\t\t\tconst tile = randomExtract(remainingTiles);\n\t\t\tconst stone = new Stone(place[0], place[1], place[2], tile.v, tile.groupnr);\n\t\t\tstones.push(stone);\n\t\t});\n\t\tfillStones(stones, tiles);\n\t\treturn stones;\n\t}\n\n}\n\nclass RandomBoardBuilder implements BuilderType {\n\n\tbuild(mapping: Mapping, tiles: Tiles): Array<Stone> {\n\t\tconst remainingTiles = tiles.list.filter((tile: Tile) => tile !== undefined);\n\t\tconst stones: Array<Stone> = [];\n\t\tconst remainingPlaces = mapping.slice(0);\n\t\twhile (remainingTiles.length > 0) {\n\t\t\tconst tile = randomExtract(remainingTiles);\n\t\t\tconst place = randomExtract(remainingPlaces);\n\t\t\tstones.push(new Stone(place[0], place[1], place[2], tile.v, tile.groupnr));\n\t\t}\n\t\tfillStones(stones, tiles);\n\t\treturn stones;\n\t}\n}\n\nclass SolvableBoardBuilder implements BuilderType {\n\n\tbuild(mapping: Mapping, tiles: Tiles): Array<Stone> {\n\t\tconst stones: Array<Stone> = [];\n\t\tmapping.forEach((st: Place) => {\n\t\t\tstones.push(new Stone(st[0], st[1], st[2], 0, 0));\n\t\t});\n\t\tfillStones(stones, tiles); // grouping will be repaired later\n\t\tlet pairs = this.solve(stones, tiles);\n\t\tlet runs = 1;\n\t\twhile (pairs.length === 0 && runs < 100) {\n\t\t\tstones.forEach((stone: Stone) => {\n\t\t\t\tstone.picked = false;\n\t\t\t\tstone.v = 0;\n\t\t\t\tstone.groupnr = 0;\n\t\t\t});\n\t\t\tpairs = this.solve(stones, tiles);\n\t\t\truns++;\n\t\t}\n\t\tstones.forEach((stone: Stone) => {\n\t\t\tstone.picked = false;\n\t\t});\n\t\tfillStones(stones, tiles); // repair grouping & images, etc\n\t\tstones.sort((a: Stone, b: Stone) =>\n\t\t\ta.v - b.v);\n\t\treturn stones;\n\t}\n\n\tsolve(stones: Array<Stone>, tiles: Tiles): Array<Array<Tile>> {\n\t\tconst pairs: Array<Array<Tile>> = [];\n\t\tconst allpairs: Array<Array<Tile>> = [];\n\t\ttiles.groups.forEach(group => {\n\t\t\tconst g: Array<Tile> = group.tiles.slice();\n\t\t\tconst tile1 = randomExtract(g);\n\t\t\tconst tile2 = randomExtract(g);\n\t\t\tconst tile3 = randomExtract(g);\n\t\t\tconst tile4 = g[0];\n\t\t\tallpairs.push([tile1, tile2]);\n\t\t\tallpairs.push([tile3, tile4]);\n\t\t});\n\t\twhile (allpairs.length > 0) {\n\t\t\tconst pair: Array<Tile> = randomExtract(allpairs);\n\t\t\tconst freestones: Array<Stone> = stones.filter((stone: Stone) =>\n\t\t\t\t!stone.picked && !stone.isBlocked());\n\t\t\tif (freestones.length < 2) {\n\t\t\t\t// not enough free places\n\t\t\t\t// this may happen if the last stones are directly on each other\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tconst place1 = randomExtract(freestones);\n\t\t\tconst place2 = randomExtract(freestones);\n\t\t\tplace1.v = pair[0].v;\n\t\t\tplace1.img = pair[0].img;\n\t\t\tplace1.groupnr = pair[0].groupnr;\n\t\t\tplace1.picked = true;\n\t\t\tplace2.v = pair[1].v;\n\t\t\tplace2.img = pair[1].img;\n\t\t\tplace2.groupnr = pair[1].groupnr;\n\t\t\tplace2.picked = true;\n\t\t\tpairs.push(pair);\n\t\t}\n\t\treturn pairs;\n\t}\n\n}\n\nclass LoadBoardBuilder implements BuilderType {\n\n\tbuild(mapping: Mapping, tiles: Tiles): Array<Stone> {\n\t\tconst stones: Array<Stone> = [];\n\t\tmapping.forEach((st: Array<number>) => {\n\t\t\tconst tile: Tile = tiles.list[st[3]];\n\t\t\tif (tile) {\n\t\t\t\tconst stone = new Stone(st[0], st[1], st[2], st[3], tile.groupnr);\n\t\t\t\tstones.push(stone);\n\t\t\t}\n\t\t});\n\t\tfillStones(stones, tiles);\n\t\treturn stones;\n\t}\n\n}\n\nexport const BuilderModes = [\n\t{id: 'MODE_SOLVABLE', builder: SolvableBoardBuilder},\n\t{id: 'MODE_LINEAR', builder: LinearBoardBuilder},\n\t{id: 'MODE_RANDOM', builder: RandomBoardBuilder}\n];\n\nexport class Builder {\n\ttiles = new Tiles();\n\tmodes = BuilderModes;\n\n\tbuild(mode: string, mapping: Mapping): Array<Stone> | undefined {\n\t\tlet builder: BuilderType | undefined;\n\t\tif (mode === 'load') {\n\t\t\tbuilder = new LoadBoardBuilder();\n\t\t} else {\n\t\t\tconst buildermode = BuilderModes.find(m => m.id === mode);\n\t\t\tif (buildermode) {\n\t\t\t\tbuilder = new buildermode.builder();\n\t\t\t}\n\t\t}\n\t\tif (builder) {\n\t\t\treturn builder.build(mapping, this.tiles);\n\t\t}\n\t\treturn;\n\t}\n}\n","import {enableProdMode} from '@angular/core';\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\nimport {AppModule} from './app/app.module';\nimport {environment} from './environments/environment';\n\nif (environment.production) {\n\tenableProdMode();\n}\n\nplatformBrowserDynamic()\n\t.bootstrapModule(AppModule)\n\t.catch(err => {\n\t\tconsole.error(err);\n\t});\n","import {Directive, ElementRef, HostListener, Input, OnChanges, SimpleChange} from '@angular/core';\nimport {DeferLoadService} from './defer-load.service';\n\n@Directive({\n\tselector: '[appDeferLoadScrollHost]'\n})\nexport class DeferLoadScrollHostDirective implements OnChanges {\n\t@Input() scrollTo: any;\n\n\tconstructor(private element: ElementRef, private scrollNotify: DeferLoadService) {\n\t}\n\n\tngOnChanges(changes: { [propName: string]: SimpleChange }): void {\n\t\tif (changes.scrollTo && changes.scrollTo.currentValue) {\n\t\t\tconst o = changes.scrollTo.currentValue;\n\t\t\tif (o.id && o.id.length > 0) {\n\t\t\t\tconst elm = document.getElementById(o.id);\n\t\t\t\tif (elm) {\n\t\t\t\t\tthis.element.nativeElement.scrollTop = elm.offsetTop - elm.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t@HostListener('scroll', ['$event'])\n\tscrollTrack(event: Event): void {\n\t\tthis.scrollNotify.notifyScroll({name: 'scroll-host', element: this.element.nativeElement});\n\t}\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}